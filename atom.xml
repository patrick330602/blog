<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Listener</title>
  
  <subtitle>倾听者</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://patrickwu.space/"/>
  <updated>2020-07-19T05:46:26.388Z</updated>
  <id>https://patrickwu.space/</id>
  
  <author>
    <name>Patrick Wu, Jinming</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>WSL-related Registry: A small dive</title>
    <link href="https://patrickwu.space/2020/07/19/wsl-related-registry/"/>
    <id>https://patrickwu.space/2020/07/19/wsl-related-registry/</id>
    <published>2020-07-19T05:46:26.000Z</published>
    <updated>2020-07-19T05:46:26.388Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Due to the lack of documentation, some of the information is possibly not complete or inaccurate. This is a updated version since WSLConf 2020.</p></blockquote><p>Information of WSL distributions store here: <code>HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Lxss</code>.</p><h2 id="overview"><a class="markdownIt-Anchor" href="#overview"></a> Overview</h2><p><img src="https://cdn.patrickwu.space/works/wslconf/images/top_key.png" alt="Overview of the key" /></p><ul><li>Subkeys are the definition of single WSL distributions. They are named using GUID.</li><li><code>DafaultDistribution</code>, RGE_SZ: This defines the default distribution used when using <code>bash.exe</code> and <code>wsl.exe</code>. The value passed is a GUID. By default, it’s the first distribution installed.</li><li><code>DefaultVersion</code>, REG_DWORD: (WSL2 Only) This defines the default WSL version that would be used for new WSL distributions.  Value for WSL1 is 0x1(1); for WSL2, 0x2(2).</li></ul><h3 id="store-distribution-key"><a class="markdownIt-Anchor" href="#store-distribution-key"></a> Store Distribution Key</h3><p><img src="https://cdn.patrickwu.space/works/wslconf/images/store_distro_key.png" alt="View of a sample store distribution key" /></p><p>Here are the details of the key values:</p><ul><li><code>BasePath</code>, REG_SZ: This defines where the WSL distribution source location is.</li><li><code>DefaultEnvironment</code>, REG_MULTI_SZ: This defines the default environment value that passed to WSL Distribution when opening the WSL distribution.</li><li><code>DefaultUid</code>, REG_DWORD: This defines the default user for the distro. The value uses the <code>uid</code> in Linux, for example, <code>root</code> is always <code>0</code>.</li><li><code>DistributionName</code>, REG_SZ: This defines the registered name of the WSL distribution. This will be used in <code>wsl.exe --list</code> and in <code>wsl.exe -d</code>.</li><li><code>Flags</code>, REG_DWORD: This defines the behavior of a distribution registered with the Windows Subsystem for Linux. The value passed is numeral combination of enumeration <code>WSL_DISTRIBUTION_FLAGS</code> , which is used by function <code>WslConfigureDistribution</code> in <code>wslapi.h</code>.  The default value is <code>WSL_DISTRIBUTION_FLAGS_DEFAULT</code>, which is 0x7(7) in older version and 0xf(15) in newer version. Known available single options are the following:<ul><li><p><code>WSL_DISTRIBUTION_FLAGS_NONE</code>: 0x0(0)</p></li><li><p><code>WSL_DISTRIBUTION_FLAGS_ENABLE_INTEROP</code>: 0x1(1)</p></li><li><p><code>WSL_DISTRIBUTION_FLAGS_APPEND_NT_PATH</code>: 0x2(2)</p></li><li><p><code>WSL_DISTRIBUTION_FLAGS_ENABLE_DRIVE_MOUNTING</code>: 0x4(4)</p><p>There is also one undocumented flag with value 0x8(8) in the newer version, which defines which WSL version it is using. With the flag, the distro will be using WSL2.</p></li></ul></li><li><code>KernelCommandLine</code>, REG_SZ: (2004 Only) This defines the command passed to WSL2 Kernel.</li><li><code>PackageFamilyName</code>, REG_SZ: This defines the WSL distribution’s UWP package Family name.</li><li><code>State</code>, REG_DWORD: This defines the state of WSL distribution. By default, it is in normal state 0x1(1). Here are also some other states:<ul><li>Normal: 0x1(1)</li><li>Installing: 0x3(3)</li><li>Uninstalling: 0x4(4)</li></ul></li><li><code>Version</code>, REG_DWORD: Do not confuse this with <code>DefaultVersion</code>! They define two entire different settings. This defines whether you are using <code>wslfs</code> or <code>lxfs</code> for the filesystem. Value for <code>lxfs</code> is 0x1(1); for <code>wslfs</code>, 0x2(2).</li></ul><h3 id="imported-distribution-key"><a class="markdownIt-Anchor" href="#imported-distribution-key"></a> Imported Distribution Key</h3><p><img src="https://cdn.patrickwu.space/works/wslconf/images/imported_distro_key.png" alt="View of a sample imported distribution key" /></p><p>As you can see, by default imported distribution do not have <code>DefaultEnvironment</code>‌, <code>KernelCommandLine</code> and <code>PackageFamilyName</code>. Also by default, <code>DefaultUid</code> will be <code>0</code> which is root.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Due to the lack of documentation, some of the information is possibly not complete or inaccurate. This is a updated version 
      
    
    </summary>
    
    
    
      <category term="WSL" scheme="https://patrickwu.space/tags/WSL/"/>
    
      <category term="WSL2" scheme="https://patrickwu.space/tags/WSL2/"/>
    
  </entry>
  
  <entry>
    <title>Setup Protonmail on UWP Mail</title>
    <link href="https://patrickwu.space/2020/06/14/protonmail-on-uwp-mail/"/>
    <id>https://patrickwu.space/2020/06/14/protonmail-on-uwp-mail/</id>
    <published>2020-06-14T07:06:20.000Z</published>
    <updated>2020-06-14T07:06:20.078Z</updated>
    
    <content type="html"><![CDATA[<h2 id="tldr"><a class="markdownIt-Anchor" href="#tldr"></a> TL;DR</h2><p>This is a quick guide on how you can setup your Protonmail Bridge with UWP version of Mail app. There is some issues such as email content cannot be downloaded, but I heard that ProtonMail is investigating the issue.</p><h2 id="prepare"><a class="markdownIt-Anchor" href="#prepare"></a> Prepare</h2><p>Firstly, you need to download <a href="https://protonmail.com/bridge/install" target="_blank" rel="noopener">ProtonMail Bridge</a>, of course. Install and setup ProtonMail Bridge, and get all your Protonmail Configuration Information:</p><p><img src="https://cdn.patrickwu.space/posts/dev/protonmail/1.png" alt="" /></p><p>Also, remember to unlock the Mail app for Local loopback using the following command in PowerShell with Admin privilege:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">checknetisolation loopbackexempt -a -n&#x3D;&quot;(Get-AppxPackage *windowscommunications*).PackageFamilyName&quot;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.patrickwu.space/posts/dev/protonmail/2.png" alt="" /></p><h2 id="adding-account"><a class="markdownIt-Anchor" href="#adding-account"></a> Adding account</h2><p>Now, open your UWP mail, and go to Settings -&gt; Manage Accounts -&gt; Add account -&gt; Advanced Setup -&gt; Internet Email. Input Information as follows:</p><table><thead><tr><th>Field</th><th>Input</th></tr></thead><tbody><tr><td>Email Address</td><td><em><strong>Username</strong> from Protonmail Configuration</em></td></tr><tr><td>Username</td><td><em><strong>Username</strong> from Protonmail Configuration</em></td></tr><tr><td>Password</td><td><em><strong>Password</strong> from Protonmail Configuration</em></td></tr><tr><td>Account name</td><td><em>whatever you like</em></td></tr><tr><td>Send your messages using this name</td><td><em>whatever you like</em></td></tr><tr><td>Incoming email server</td><td>127.0.0.1:1143</td></tr><tr><td>Account type</td><td>IMAP4</td></tr><tr><td>Outgoing (SMTP) email server</td><td>127.0.0.1:1025</td></tr></tbody></table><p>Also keep <strong>Outgoing server requires authentification</strong> and <strong>Use the same username and password for sending emails</strong>, and uncheck <strong>Rrequire SSL for incoming emails</strong> and <strong>Requie SSL for outgoing emails</strong>.</p><p>And now, you have setup your ProtonMail account on UWP Mail client!</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;tldr&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#tldr&quot;&gt;&lt;/a&gt; TL;DR&lt;/h2&gt;
&lt;p&gt;This is a quick guide on how you can setup your Protonmail Bridge
      
    
    </summary>
    
    
    
      <category term="Windows 10" scheme="https://patrickwu.space/tags/Windows-10/"/>
    
  </entry>
  
  <entry>
    <title>Build Your Own Debian Repository: The quick way</title>
    <link href="https://patrickwu.space/2020/06/07/deb-repo-from-stratch/"/>
    <id>https://patrickwu.space/2020/06/07/deb-repo-from-stratch/</id>
    <published>2020-06-07T04:15:08.000Z</published>
    <updated>2020-06-07T05:16:18.267Z</updated>
    
    <content type="html"><![CDATA[<h2 id="tldr"><a class="markdownIt-Anchor" href="#tldr"></a> TL;DR</h2><p>This is a quick little article to get you started with the Debian repository. I have been setting up Debian repositories for <code>wslu</code> and some other packages. You can check out my Debian and Kali Linux repository for wslu <a href="https://access.patrickwu.space/wslu/debian/" target="_blank" rel="noopener">here</a> and <a href="https://access.patrickwu.space/wslu/kali/" target="_blank" rel="noopener">here</a>.</p><h2 id="setup"><a class="markdownIt-Anchor" href="#setup"></a> Setup</h2><p>We will set up the repository using <code>reprepro</code>. You can install <code>reprepro</code> using your distro’s package manager, for example,  <code>sudo apt install reprepro</code> for debian-based operating systems.</p><p>Now, you can create Create a directory for your repository. Here, I will call it <code>repo</code>. Create a folder <code>conf</code> under the <code>repo</code> folder, and under <code>conf</code> folder, create a file called <code>distributions</code> with the following content:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Origin: repo.example.com</span><br><span class="line">Label: repo.example.com</span><br><span class="line">Codename: trusty</span><br><span class="line">Architectures: i386 amd64 source</span><br><span class="line">Components: main</span><br><span class="line">Description: example repo</span><br><span class="line">SignWith: Yes</span><br></pre></td></tr></table></figure><p>Here is a quick reference of this file:</p><ul><li><strong>Origin</strong>: This field is used to identify where this repository is coming from. Usually, it is a URL.</li><li><strong>Label</strong>: Similar to Origin</li><li><strong>Codename</strong>: This is usually the codename for the distribution like <em>focal</em>, <em>buster</em> and <em>kali-rolling</em>.</li><li><strong>Architectures</strong>: The architectures.</li><li><strong>Components</strong>: The names of the components that packages can be imported into. Usually, it is <code>main</code>.</li><li><strong>Description</strong>: This field is optional, but useful for end-users.</li><li><strong>SignWith</strong>: This field can be either <code>yes</code>, <code>default</code>, or have the GPG key ID of a GPG key that should be used to sign the repository metadata. If “yes” or “default” are specified, reprepro will use the default GPG key available when signing repository metadata.</li></ul><p>More detailed documentation can be found <a href="https://manpages.debian.org/jessie/reprepro/reprepro.1.en.html#conf/distributions" target="_blank" rel="noopener">here</a>, or check <code>man reprepro</code> under <strong>conf/distributions</strong> section.</p><p>Now, you have complete the Debian repository. Now Let’s try to import a Debian package.</p><h2 id="sign-and-import"><a class="markdownIt-Anchor" href="#sign-and-import"></a> Sign and Import</h2><p>You need to get your private key and Debian package ready. I have an article talking about a simple way you can build a Debian package: <a href="https://patrickwu.space/2018/05/25/make-deb-packing-simple/">Packaging .deb using a simple script: Explained</a></p><p>Now let’s prepare our signing environment by running <code>export GPG_TTY=$(tty)</code>, or include this line in your shell configuration file. This allows GPG-signing running in the terminal without throw out errors.</p><p>Now, import your GPG key using <code>‌gpg --import &lt;key&gt;</code>. You can now sign packages with <code>dpkg-sig -k &lt;key&gt; --sign builder /path/to/package.deb</code> or <code>dpkg-sig --sign builder /path/to/package.deb</code> if your signing the package with default key.</p><p>Now you can import packages using <code>reprepro -S &lt;category&gt; -b repo/ includedeb &lt;codename&gt; /path/to/package.deb</code>. <code>-S</code> is always required.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;tldr&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#tldr&quot;&gt;&lt;/a&gt; TL;DR&lt;/h2&gt;
&lt;p&gt;This is a quick little article to get you started with the Debian
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="https://patrickwu.space/tags/Linux/"/>
    
      <category term="Linux Packaging" scheme="https://patrickwu.space/tags/Linux-Packaging/"/>
    
      <category term="Ubuntu" scheme="https://patrickwu.space/tags/Ubuntu/"/>
    
      <category term="Debian" scheme="https://patrickwu.space/tags/Debian/"/>
    
  </entry>
  
  <entry>
    <title>Microsoft Build 2020: My Tiny Little Summary</title>
    <link href="https://patrickwu.space/2020/05/31/build-2020/"/>
    <id>https://patrickwu.space/2020/05/31/build-2020/</id>
    <published>2020-05-31T03:30:37.000Z</published>
    <updated>2020-06-01T03:31:04.426Z</updated>
    
    <content type="html"><![CDATA[<h2 id="tl-dr"><a class="markdownIt-Anchor" href="#tl-dr"></a> TL; DR</h2><p>Another year, another Microsoft Build; but this year, it’s all virtual due to coronavirus. Last year’s build is such a fun experience for me; I even have written a summary for that <a href="https://patrickwu.space/2019/05/10/build-2019/">here</a>. And this year’s build is not only unique but also free, and it is the 48-hour never-ending fun.</p><p>Also, here is my setup for the build 2020:<br /><img src="https://cdn.patrickwu.space/posts/dev/build-2020-setup.jpeg" alt="My Setup for Build 2020" /></p><h2 id="wsl"><a class="markdownIt-Anchor" href="#wsl"></a> WSL</h2><p>As WSL2 will be available for everyone on Windows 10 version 2004, 3 new features for WSL is also announced for WSL, and got highlighted by Satya Nadella and Scott Hanselman:</p><ul><li>Added support for graphics processing unit (GPU) compute workflows;</li><li>Support for Linux graphical user interface (GUI) apps with Audio Support;</li><li>Support a simplified install experience by running the command <code>wsl.exe – install</code>.</li></ul><p>For <strong>GPU Support</strong>, Microsoft uses a special kernel driver <code>dxgkrnl</code> to expose <code>/dev/dxg</code> in user mode Linux that allows mimicking the service layer provided on Windows. This method made the following things possible to run on WSL:</p><ul><li>DxCore (<code>libdxcore</code>) &amp; D3D12 (<code>libd3d12</code>);</li><li>DirectML (<code>libdirectml</code>) based on D3D12;</li><li>OPENGL/OpenCL/Vulkan (<code>mesa</code>) based on D3D12;</li><li>NVIDIA CUDA (<code>libcuda</code>) based on DxCore.</li></ul><p>There are also some discussions happening on <a href="https://lkml.org/lkml/2020/5/19/742" target="_blank" rel="noopener">Linux Kernel Mailing List</a> and <a href="https://lists.freedesktop.org/archives/dri-devel/2020-May/266629.html" target="_blank" rel="noopener">Direct Rendering Modules Mailing List</a>. The feature is coming very soon in June for Insiders.</p><p>A more detailed article can be found here: <a href="https://devblogs.microsoft.com/directx/directx-heart-linux/" target="_blank" rel="noopener">DirectX ❤ Linux</a></p><p>For <strong>GUI support</strong>, according to the session, the GUI layer for WSL will be a Wayland layer implemented as a daemon called <code>wlwsld</code> that will (possibly) land as a startup daemon. It uses a custom-built RDP client (<code>rdclientwsl.exe</code>) <a href="https://wayland.freedesktop.org/xserver.html" target="_blank" rel="noopener">Xwayland</a>, FreeRDP v2.1.0 and a Wayland compositor <a href="https://github.com/wayland-project/weston" target="_blank" rel="noopener">Weston</a> (<code>libweston</code>) currently from the demo:</p><p><img src="https://cdn.patrickwu.space/posts/dev/build-2020-wsl-wayland-gui.png" alt="Sneak peek of the daemon" /></p><p>It is right now proposed to be released in December with the <strong>audio support</strong>.</p><p>However, <code>systemd</code> support is not likely to come any soon since it is still being working on.</p><h2 id="windows-terminal"><a class="markdownIt-Anchor" href="#windows-terminal"></a> Windows Terminal</h2><p>Windows Terminal is finally getting 1.0! It finally gets <a href="https://aka.ms/terminal-docs" target="_blank" rel="noopener">proper documentation</a>, and now stable and preview release are separated: <a href="https://aka.ms/terminal" target="_blank" rel="noopener">Stable</a> and <a href="https://aka.ms/terminal-preview" target="_blank" rel="noopener">Preview</a>. Also during the session, it showed new features like coloring tab and renaming tab, which will be coming in a few weeks; they also demoed the coming Terminal Settings, which is still super beta:</p><div class="twitter-wrapper"><blockquote class="twitter-tweet"><a href="https://twitter.com/callmepkwu/status/1262924009047560193" target="_blank" rel="noopener"></a></blockquote></div><script async defer src="//platform.twitter.com/widgets.js" charset="utf-8"></script><h2 id="project-reunion"><a class="markdownIt-Anchor" href="#project-reunion"></a> Project Reunion</h2><p><a href="https://github.com/microsoft/ProjectReunion" target="_blank" rel="noopener">Project Reunion</a> is an exciting new concept, since I am previously a UWP/Windows Phone developer, and merging the win32 and UWP API is finally started to happen. Project Reunion includes WinUI 3 for unified controls, .NET MAUI for unifying all system UI (Although currently there seems to be a legal issue for the name that caused confliction with KDE MAUI and the Linux community).</p><p>As a webmaster during my university time, I am also super interested on what will the new WebView (WebView2) brings for developers and the latest status of Microsoft Edge. For WebView2 and he new Chromium-based Microsoft Edge, we not only got a sneak peek of Microsoft Edge on Linux on Azure session; but WebView2 will also have a plan to be brought to Linux on the long-term roadmap.</p><h2 id="c-90"><a class="markdownIt-Anchor" href="#c-90"></a> C# 9.0</h2><p>In Microsoft Build 2019, they announced C# 8.0 and showed what’s next. In Build 2020, they shared about what will be coming for C# 9.0. Here are just some takeaways.</p><p>You can initial a new object using the With-expressions:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = a with &#123;con = <span class="string">"some other content"</span>&#125;;</span><br></pre></td></tr></table></figure><p>In Microsoft Build 2019, they demonstrated a lot of awesome improvements in pattern matching. There are some further improvements in pattern matching, including:<br />- Type patterns<br />- Relational patterns (<code>&lt;=</code>)<br />- Logical patterns (<code>not</code>)</p><p>Now in C# 9.0, there is a new target-typed “new” so you can init an object using the following:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a_random_type x = <span class="keyword">new</span> (<span class="string">"a"</span>, <span class="string">"b"</span>);</span><br></pre></td></tr></table></figure><p>Also, it now allows parameter null checking inline with <code>!</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Public a_random_type(string name!, string con!) &#123; ... &#125;</span><br></pre></td></tr></table></figure><p>There is also a feature of covariant returns such that you can ovreride a feature to return another object easily:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public virtual a_random_type GetStuff() &#123; ... &#125;</span><br><span class="line">public override another_random_type GetStuff() &#123; ... &#125;</span><br></pre></td></tr></table></figure><p>There is also a more detailed article about what’s new, which a lot of them are not mentioned in the session: <a href="https://devblogs.microsoft.com/dotnet/welcome-to-c-9-0/" target="_blank" rel="noopener">Welcome to C# 9.0</a></p><h2 id="other"><a class="markdownIt-Anchor" href="#other"></a> Other</h2><ul><li><a href="https://github.com/microsoft/winget-cli" target="_blank" rel="noopener">Windows Package Manager</a>; This sure is a surprise to me. Windows is finally getting an official package manager, although it is pretty rough for now. It is also confirmed it will be deeply integrated with Microsoft Store, and you can build your repository besides the <a href="https://github.com/microsoft/winget-pkgs" target="_blank" rel="noopener">main one</a>, which is sure exciting</li><li>GitHub Actions integration with Azure DevOps coming, but it is not ready right now</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;tl-dr&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#tl-dr&quot;&gt;&lt;/a&gt; TL; DR&lt;/h2&gt;
&lt;p&gt;Another year, another Microsoft Build; but this year, it’s all
      
    
    </summary>
    
    
    
      <category term="Microsoft Build" scheme="https://patrickwu.space/tags/Microsoft-Build/"/>
    
      <category term="C#" scheme="https://patrickwu.space/tags/C/"/>
    
      <category term="WSL" scheme="https://patrickwu.space/tags/WSL/"/>
    
      <category term="WSL2" scheme="https://patrickwu.space/tags/WSL2/"/>
    
  </entry>
  
  <entry>
    <title>iSoft Desktop: What’s the deal?</title>
    <link href="https://patrickwu.space/2020/03/28/idesktop-review/"/>
    <id>https://patrickwu.space/2020/03/28/idesktop-review/</id>
    <published>2020-03-28T15:29:16.000Z</published>
    <updated>2020-03-28T15:29:16.677Z</updated>
    
    <content type="html"><![CDATA[<p>Some times earlier, I noticed a piece of news: iSoft Desktop (普华桌面操作系统) is now the required Linux Distro for learning the standards of Linux in Mainland China according to multiple resources <sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> <sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>.</p><p>This news arouses my interest, as most so-called “Made-in-China Operating System” are based on Linux while being close-sourced. Good examples are StartOS and Redflag OS, where both the systems are Linux-based but not open-sourced.</p><p>On the contrary, Linux distributions made by private corporations in Mainland China are not only well-made but also properly following open source licenses. Deepin Linux and Ubuntu Kylin (Ubuntu Kylin is the collaboration project between Kylin Inc. and Canonical China) are two great examples.</p><p>To find out, I tried to get this Linux distribution. It is tough to download this distribution. The download link for the distribution is hidden deep in the company website.</p><p>As expected from a nation-backed product, I found that you need to provide the email, name, phone number, and location to download the image of the distribution, which is much information needed.</p><p>What’s worse, the download speed of the ISO is slow. This slowness doesn’t depend on your local network speed; the culprit is their server bandwidth. So I made it easy for you and hosted it on my CDN. You can click <a href="https://cdn.patrickwu.space/posts/dev/linux-review/idesktop/isoft-desktop-v4.1-x86_64.iso" target="_blank" rel="noopener">here</a> to download the image.</p><p><img src="https://cdn.patrickwu.space/posts/dev/linux-review/idesktop/1.png" alt="You need to fill the information before downloading" /></p><p>The latest version of iSoft Desktop is 4.1, and the image size is 3.6 GB. I used the automatic detection feature from Parallels Desktop to figure out its base distribution. Unfortunately, Parallels Desktop failed to do so, which means at least this is not just a simple fork of an existing Linux distribution (I was wrong here as I found later that it’s based on Fedora).</p><p>During installation, I notice a very interesting thing: It has the mention of GPLv2 in their EULA, while not providing the source code:</p><p><img src="https://cdn.patrickwu.space/posts/dev/linux-review/idesktop/2.png" alt="Mention of GPLv2 during installation" /></p><p>I won’t comment on their behavior, but I believe this is a possible violation of the GPL License.  One evidence is undeniable in this possibility: They didn’t disclose the source code.</p><p>Apart from that, the installation is straightforward and simple. After installing, you can see the distribution is using KDE environment:</p><p><img src="https://cdn.patrickwu.space/posts/dev/linux-review/idesktop/3.png" alt="Desktop Environment" /></p><p>This Linux distribution uses not software that can be normally found in common Linux distributions but its China alternatives; For example, WPS is used instead of LibreOffice that used in most distributions. Very interestingly, the distribution is fully translated to Simplified Chinese, unlike other nation-backed OS like Redflag OS, where a lot of English remains everywhere on the UI. The primary issue I have for the distribution that there is no package repository included in the system, while the package server is also down.</p><p><img src="https://cdn.patrickwu.space/posts/dev/linux-review/idesktop/4.png" alt="No Available repository" /></p><p>It’s a unique Linux distribution overall, and you can try it on your own, but always keep in mind: As a closed-source Linux distribution, although no clear evidence of spying, you should always use with caution.</p><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://www.cnbeta.com/articles/tech/912899.htm" target="_blank" rel="noopener">https://www.cnbeta.com/articles/tech/912899.htm</a> <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p><a href="https://linux.cn/article-11596-1.html" target="_blank" rel="noopener">https://linux.cn/article-11596-1.html</a> <a href="#fnref2" class="footnote-backref">↩︎</a></p></li></ol></section>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Some times earlier, I noticed a piece of news: iSoft Desktop (普华桌面操作系统) is now the required Linux Distro for learning the standards of Li
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="https://patrickwu.space/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Blursed WSL: use WSL on Mac via Parallels Desktop</title>
    <link href="https://patrickwu.space/2020/02/14/wsl-on-mac/"/>
    <id>https://patrickwu.space/2020/02/14/wsl-on-mac/</id>
    <published>2020-02-14T15:40:20.000Z</published>
    <updated>2020-03-25T13:39:10.478Z</updated>
    
    <content type="html"><![CDATA[<h2 id="some-background"><a class="markdownIt-Anchor" href="#some-background"></a> Some background…</h2><p>I recently switched to Mac because of something requires me to use MacOS. I got a 2019 16 inch model of MacBook Pro, and I am pretty satisfied with it<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>.</p><p>As I am still developing for WSL (and also UWP), I used Parallels Desktop for running Windows on Mac, because I hate Boot Camp. After setting up Windows 10 on Parallels Desktop with come tweaks, successfully set up WSL/WSL2 with Mac.</p><div class="twitter-wrapper"><blockquote class="twitter-tweet"><a href="https://twitter.com/callmepkwu/status/1199257722270601216" target="_blank" rel="noopener"></a></blockquote></div><script async defer src="//platform.twitter.com/widgets.js" charset="utf-8"></script><h2 id="use-parallels-feature-wisely"><a class="markdownIt-Anchor" href="#use-parallels-feature-wisely"></a> Use Parallels feature wisely</h2><p>Two important feature in Parallels Desktop is used: Coherence Mode and Nested Virtualization.</p><p>Using Coherence mode, you can use Windows applications and UWPs such as Windows Terminal just like native apps:</p><p><img src="https://cdn.patrickwu.space/posts/dev/wsl/mac/1.png" alt="Windows Terminal on Mac" /></p><p>Using Nested Virtualization is essential to use WSL2 and the brand new Windows Docker for WSL2. Some people might afraid that enabling it has little impact on my laptop. You can enable the feature here in Parallels Desktop:</p><p><img src="https://cdn.patrickwu.space/posts/dev/wsl/mac/2.png" alt="Nested virtualization in Parallels Configure Menu" /></p><h2 id="auto-mounting-mac-partition-on-wsl"><a class="markdownIt-Anchor" href="#auto-mounting-mac-partition-on-wsl"></a> Auto-mounting Mac partition on WSL</h2><p>WSL has been providing drive mounting feature using <strong>DrvFs</strong> for some times<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>. Mounting with <strong>DrvFs</strong> is super easy; Without mounting your Windows drive, you can just:</p><ul><li>use <code>sudo mkdir /mnt/d &amp;&amp; sudo mount -t drvfs D: /mnt/d/</code> to mount your D drive;</li><li>use <code>sudo mount -t drvfs '\\server\share' /mnt/share</code> to mount netowork location <code>\\server\share</code>.</li></ul><p>You can even auto-mount using <code>fstab</code>.</p><p>However, auto-mounting with Mac partition requires something more than documentation provided, otherwise you might have trouble accessing the files.</p><p>Before mounting, the file-sharing should be enabled in Parallels Configuration:</p><p><img src="https://cdn.patrickwu.space/posts/dev/wsl/mac/3.png" alt="Files Sharing in Parallels Configure Menu" /></p><p>It is suggested to use just the network location as drives can be unmounted automatically by Parallels and thus unpredictable.</p><p>Now, check the folder you want to mount. In my case, I tried to mount <code>\\Mac\Home\</code>. So I created a folder <code>/mnt/mac</code> and in my <code>/etc/fstab</code>, I input the following:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\\Mac\Home\      &#x2F;mnt&#x2F;mac        drvfs   metadata,uid&#x3D;1000,gid&#x3D;1000,umask&#x3D;0022,fmask&#x3D;11,case&#x3D;off 0       0</span><br></pre></td></tr></table></figure><p>Restart the distribution by using <code>wsl -t</code>, and drive will automatically be mounted:</p><p><img src="https://cdn.patrickwu.space/posts/dev/wsl/mac/4.png" alt="Mounted drive in /mnt/mac" /></p><h2 id="opening-websitefile-from-wsl-to-mac-browser"><a class="markdownIt-Anchor" href="#opening-websitefile-from-wsl-to-mac-browser"></a> Opening website/file from WSL to Mac browser</h2><p>This one is pretty easy to configure. If you used my <a href="https://github.com/wslutilities/wslu" target="_blank" rel="noopener">WSL Utilities</a>, you can already open website using <code>wslview</code>. Then setup <strong>Web pages</strong> to <strong>Open in Mac</strong> in the Parallels Configuration:</p><p><img src="https://cdn.patrickwu.space/posts/dev/wsl/mac/5.png" alt="Webpage pages option in Parallels Desktop Configuration " /></p><p>Then everything is now ready. When you launch a website using <code>wslview</code>, it will open in the default Mac web browser.</p><p>Here is a little demo:</p><p><img src="https://cdn.patrickwu.space/posts/dev/wsl/mac/6.gif" alt="Demo for Opening website in Mac from WSL" /></p><h2 id="wsl-desktop-shortcut-on-mac"><a class="markdownIt-Anchor" href="#wsl-desktop-shortcut-on-mac"></a> WSL Desktop Shortcut On Mac</h2><p>The component <code>wslusc</code> in my <a href="https://github.com/wslutilities/wslu" target="_blank" rel="noopener">WSL Utilities</a> allows you to create shortcuts on Windows Desktop. Combining with Parallels Desktop’s feature, you can launch WSL GUI application right from your Mac Desktop.</p><p>Here is how it looks:</p><p><img src="https://cdn.patrickwu.space/posts/dev/wsl/mac/7.gif" alt="Demo for Windows Shortcut on Mac" /></p><p>To achieve this, We should enable Desktop Mapping in the Parallels Desktop with the following steps:</p><p><img src="https://cdn.patrickwu.space/posts/dev/wsl/mac/8.png" alt="Step 1 for enabling Desktop Mapping" /><br /><img src="https://cdn.patrickwu.space/posts/dev/wsl/mac/9.png" alt="Step 2 for enabling Desktop Mapping" /></p><p>Afterward, the desktop should show the shortcut created on the Windows 10 Desktop. However, they won’t look good; But we can do some small modification to make it better like the following:</p><p><img src="https://cdn.patrickwu.space/posts/dev/wsl/mac/10.png" alt="Effects on Icon edition" /></p><p>Here is how to modify it:</p><p><img src="https://cdn.patrickwu.space/posts/dev/wsl/mac/11.png" alt="Steps on how to change the icon" /></p><h2 id="to-conclude"><a class="markdownIt-Anchor" href="#to-conclude"></a> To conclude…</h2><p>The experience is not perfect, but this allows me to use Ubuntu without creating extra Virtual Machine on my MBP, which means a save on system memory when I need to run Windows and Ubuntu at the same time.</p><p>This sure is a great experience using WSL on Mac.</p><p>I am also going to present a session on WSLConf 😉</p><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>A review is coming 😉 <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p>Good place to start with <strong>DrvFs</strong>: <a href="https://docs.microsoft.com/en-gb/archive/blogs/wsl/file-system-improvements-to-the-windows-subsystem-for-linux" target="_blank" rel="noopener">https://docs.microsoft.com/en-gb/archive/blogs/wsl/file-system-improvements-to-the-windows-subsystem-for-linux</a> <a href="#fnref2" class="footnote-backref">↩︎</a></p></li></ol></section>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;some-background&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#some-background&quot;&gt;&lt;/a&gt; Some background…&lt;/h2&gt;
&lt;p&gt;I recently switched to Mac becau
      
    
    </summary>
    
    
    
      <category term="WSL" scheme="https://patrickwu.space/tags/WSL/"/>
    
      <category term="WSL2" scheme="https://patrickwu.space/tags/WSL2/"/>
    
      <category term="OSX" scheme="https://patrickwu.space/tags/OSX/"/>
    
  </entry>
  
  <entry>
    <title>An even better motherf**king website</title>
    <link href="https://patrickwu.space/2020/01/04/a-even-better-motherfing-website/"/>
    <id>https://patrickwu.space/2020/01/04/a-even-better-motherfing-website/</id>
    <published>2020-01-04T08:07:25.000Z</published>
    <updated>2020-02-17T05:55:02.787Z</updated>
    
    <content type="html"><![CDATA[<p>The one thing I hate about the modern Internet is that it fills with too many fancy CSS elements, long-running JavaScripts, cookies to “<em>improve your browsing experiences</em>”, random popup to “<strong>SUBSCRIBE NOW!</strong>” They just made my brain hurt.</p><p>One day, I found a website called, uh, <a href="http://motherfuckingwebsite.com" target="_blank" rel="noopener">Motherf**king Website</a><sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>. It’s an extrmly simple website with only the following CSS:</p><figure class="highlight css"><figcaption><span>OwO whewe iws the css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">⠀</span><br></pre></td></tr></table></figure><p>Yeah, it doesn’t even have a CSS<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>! But it really did just work. Then, unsurprisingly, I found a sequel to that website called <a href="http://bettermotherfuckingwebsite.com" target="_blank" rel="noopener">Better Motherf**cking Website</a>.</p><p>The heck?</p><p>But it did look better than the previous one. Well, I dig it although I know both of the sites are satire. Here is the original CSS source for the second one:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">40px</span> auto;</span><br><span class="line">  <span class="attribute">max-width</span>:<span class="number">650px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>:<span class="number">1.6</span>;</span><br><span class="line">  <span class="attribute">font-size</span>:<span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">color</span>:<span class="number">#444</span>;</span><br><span class="line">  <span class="attribute">padding</span>:<span class="number">0</span> <span class="number">10px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>&#123;</span><br><span class="line">  <span class="attribute">line-height</span>:<span class="number">1.2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>However, as the author of the website stated:</p><blockquote><p>I love what the creator of this site’s inspiration did. What I’m saying is that it’s so, so simple to make sites easier to read. Websites are broken by default, they are functional, high-performing, and accessible, but they’re also fucking ugly. You and all the other web designers out there need to make them not total shit.</p></blockquote><p>How about… no?</p><p>Nah, actually he(or she)'s definitely right, it will need more CSS extension. But first, I need somewhere to test it first before putting on the main site, and the <a href="https://access.patrickwu.space" target="_blank" rel="noopener">Access</a> is the perfect place. It actually doesn’t look bad! So I started to make a fork of this CSS. Here is what I have done:</p><p>For the base, I just add an extra <code>background-color</code> property in <code>body</code>, just for helping the dynamic dark/light theme on my website:</p><figure class="highlight css"><figcaption><span>original.css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">40px</span> auto;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">650px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.6</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#DDD</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span>,</span><br><span class="line"><span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>To make heading more obvious, I did some content appending in CSS:</p><figure class="highlight css"><figcaption><span>header.css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">"# "</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h2</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">"## "</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h3</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">"### "</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h4</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">"#### "</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h5</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">"##### "</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h6</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">"###### "</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-tag">h1</span> <span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This part is the extension on link to make it less ugly compared to default:</p><figure class="highlight css"><figcaption><span>link.css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#555</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#777</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#77beec</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>I also try to fix some distortedly-rendered element in Hexo:</p><figure class="highlight css"><figcaption><span>general.css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">  <span class="attribute">border-left-width</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">border-left-color</span>: gray;</span><br><span class="line">  <span class="attribute">border-left-style</span>: solid;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>I also made some improvements on post tag cloud on the homepage to better distinguish them:</p><figure class="highlight css"><figcaption><span>tag.css </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.hometag</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#555</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#555</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>By default, these code block generated is distorted and not good for viewing. I styled them here:</p><figure class="highlight css"><figcaption><span>codeblock.css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">pre</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">0.8em</span>/<span class="number">1.0em</span> <span class="string">"Courier New"</span>, Courier;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#222</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">code</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="string">"Courier New"</span>, Courier;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#AAA</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#444</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.highlight</span> &#123;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#555</span>;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">0.5px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: auto;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#DDD</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.highlight</span> <span class="selector-class">.gutter</span> &#123;</span><br><span class="line">  <span class="attribute">border-right-color</span>: <span class="number">#555</span>;</span><br><span class="line">  <span class="attribute">border-right-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-right-width</span>: <span class="number">0.5px</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.highlight</span> <span class="selector-class">.code</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.highlight</span> <span class="selector-tag">figcaption</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom-color</span>: <span class="number">#555</span>;</span><br><span class="line">  <span class="attribute">border-bottom-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-bottom-width</span>: <span class="number">0.5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.highlight</span> <span class="selector-tag">figcaption</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This is to improve the look of scrollbar as the default one is problematic with dark theme I implemented later:</p><figure class="highlight css"><figcaption><span>scrollbar</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:end</span><span class="selector-pseudo">:decrement</span>,</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:start</span><span class="selector-pseudo">:increment</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-corner</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">2</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">5</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">15</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span>,</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">1px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">1px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:end</span>,</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:start</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Lastly, I added dark/light theme support using <code>prefers-color-scheme</code>, and it looks good at night:</p><figure class="highlight css"><figcaption><span>dynamic_theme.css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme:</span> dark) &#123;</span><br><span class="line">  <span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#222</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#CCC</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-pseudo">:link</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#AAA</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">pre</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#222</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#AAA</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.tag</span> &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#AAA</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#AAA</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.highlight</span> &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#DDD</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#222</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.highlight</span> <span class="selector-class">.gutter</span> &#123;</span><br><span class="line">    <span class="attribute">border-right-color</span>: <span class="number">#DDD</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.highlight</span> <span class="selector-tag">figcaption</span> &#123;</span><br><span class="line">    <span class="attribute">border-bottom-color</span>: <span class="number">#DDD</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">2</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-thumb</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">5</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-track</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">15</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme:</span> light) &#123;</span><br><span class="line">  <span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#DDD</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-pseudo">:link</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#555</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#777</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">pre</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#222</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#222</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.tag</span> &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#555</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#555</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.highlight</span> &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#555</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#DDD</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.highlight</span> <span class="selector-class">.gutter</span> &#123;</span><br><span class="line">    <span class="attribute">border-right-color</span>: <span class="number">#555</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.highlight</span> <span class="selector-tag">figcaption</span> &#123;</span><br><span class="line">    <span class="attribute">border-bottom-color</span>: <span class="number">#555</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">2</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-thumb</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">5</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-track</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">15</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Thanks for taking your time to read this random pointless article that possibly not going to help you 😉</p><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>Censored f-words in this article for good. My blog is family friendly (well, technically, but this is not YouTube). <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p>I used a special space here called <a href="https://en.wiktionary.org/wiki/%E2%A0%80" target="_blank" rel="noopener">BRAILLE PATTERN BLANK</a>, <code>U+2800</code> if anyone need it <a href="#fnref2" class="footnote-backref">↩︎</a></p></li></ol></section>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;The one thing I hate about the modern Internet is that it fills with too many fancy CSS elements, long-running JavaScripts, cookies to “&lt;
      
    
    </summary>
    
    
    
      <category term="Web" scheme="https://patrickwu.space/tags/Web/"/>
    
      <category term="HTML" scheme="https://patrickwu.space/tags/HTML/"/>
    
      <category term="CSS" scheme="https://patrickwu.space/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>2019：淚與笑</title>
    <link href="https://patrickwu.space/2019/12/25/review-2019/"/>
    <id>https://patrickwu.space/2019/12/25/review-2019/</id>
    <published>2019-12-25T13:05:21.000Z</published>
    <updated>2020-02-17T05:56:08.686Z</updated>
    
    <content type="html"><![CDATA[<h2 id="2019我做到了嗎"><a class="markdownIt-Anchor" href="#2019我做到了嗎"></a> 2019，我做到了嗎？</h2><p>2018年，我為自己訂下了這些目標：</p><ul><li>寫完《和平路書報攤》和《WSL指北》；</li><li>認真的去找個女朋友；</li><li>繼續保持鍛鍊，瘦下來。</li></ul><p>所以，我做到了嗎？</p><h3 id="寫完和平路書報攤和wsl指北"><a class="markdownIt-Anchor" href="#寫完和平路書報攤和wsl指北"></a> 寫完《和平路書報攤》和《WSL指北》</h3><p>很遺憾，我一個字都沒動過。</p><h3 id="認真的去找個女朋友"><a class="markdownIt-Anchor" href="#認真的去找個女朋友"></a> 認真的去找個女朋友</h3><p>很遺憾，我連踏出這一步的勇氣都沒有。</p><h3 id="繼續保持鍛鍊瘦下來"><a class="markdownIt-Anchor" href="#繼續保持鍛鍊瘦下來"></a> 繼續保持鍛鍊，瘦下來</h3><p>唯一做到的事⋯⋯我瘦了7公斤！</p><h2 id="今年做了什麼"><a class="markdownIt-Anchor" href="#今年做了什麼"></a> 今年，做了什麼？</h2><p>2019， 這是一個我完全沒有預料到的一年。</p><p>1月，大四春季學期。這是我在香港科技大學的最有一個學期。在混亂與煎熬中，我終於完成了畢業設計。</p><p>5月，參加微軟開發者大會（Microsoft Build 2019），並與 Hayden 一起參與了講演。</p><p>6月，北京歷史夏令營。很榮幸能夠認識幾位大佬，讓我度過了個難忘的最後的大學生活。</p><p>7月，日本🇯🇵與新加坡🇸🇬之旅。</p><p>8月，入職。</p><p>9月，畢業申請通過。</p><p>10月，離職。在父母的鼓勵下，又去日本🇯🇵散心。</p><p>11月，畢業。</p><p>人生，就是這麼喜歡開玩笑。現在，在這個空氣中瀰漫着催淚彈氣味的寒冷的12月，我已經不知道我是在笑着哭，還是在哭着笑。</p><h2 id="讀了些啥"><a class="markdownIt-Anchor" href="#讀了些啥"></a> 讀了些啥？</h2><p>我從來沒有想象過，我在一年裏可以看這麼多的書。往年，我每年只會看兩到三本書，而今年，我看了20本書。沒時間不是不看書的理由，把自己花在社交媒體上的時間花在看書上，你會發現一個新的世界。</p><p>我統計了今年看得所有非工具書，共20本：</p><ul><li><strong>宇宙簡史：起源與歸宿 | The Theory of Everything: The Origin and Fate of the Universe</strong> by <em>Steven Hawking</em></li><li><strong>卓有成效的管理者 | The Effective Executive</strong> by <em>Peter F. Drucker</em></li><li><strong>拒絕藉口 | Never Excuse</strong> by <em>Orison</em></li><li><strong>詩説茶文化 | Tea Culture: From the Perspective of Poems</strong> by <em>劉景文</em></li><li><strong>帝國崛起病</strong> by <em>黃鐘</em></li><li><strong>夢的釋義 | Die Traumdeutung</strong> by <em>Sigmund Freud</em></li><li><strong>教父 | Godfather</strong> by <em>Mario Puzo</em></li><li><strong>北韓：從遊擊革命的金日成到迷霧籠罩的金正恩 | 조선민주주의인민공화국</strong> by <em>和田春樹</em></li><li><strong>What Money Can’t Buy: The Moral Limits of Markets</strong> by <em>Michael J. Sandel</em></li><li><strong>醜陋的中國人</strong> by <em>柏楊</em></li><li><strong>人生不設限:我那好得不像話的生命體驗 | Life Without Limits: Inspiration for a Ridiculously Good Life</strong> by <em>Nicholas James Vujicic</em></li><li><strong>The Maze Runner</strong> by <em>James Dashner</em></li><li><strong>David Copperfield</strong> by <em>Charles Dickens</em></li><li><strong>從0到1：開啟商業與未來的祕密 | Zero to One: Notes on Startups, or How to Build the Future</strong> by <em>Peter Thiel/Blake Masters</em></li><li><strong>戴維斯王朝 | Davis Dynasty: Fifty Tears of Successful Investing on Wall Street</strong> by <em>John Rothchild</em></li><li><strong>人間便利店 | コンビニ人間</strong> by <em>村田沙耶香</em></li><li><strong>刷新:重新發現商業與未來 | Hit Refresh: The Quest to Rediscover Microsoft’s Soul and Imagine a Better Future for Everyone</strong> by <em>Satya Nadella</em></li><li><strong>人間失格</strong> by <em>太宰治</em></li><li><strong>悲劇人偶 | 十字屋敷のピエロ</strong> by <em>東野圭吾</em></li><li><strong>What If?: Serious Scientific Answers to Absurd Hypothetical Questions</strong> by <em>Randall Munroe</em></li></ul><h2 id="我創造了啥"><a class="markdownIt-Anchor" href="#我創造了啥"></a> 我創造了啥？</h2><p>我開始使用 Unsplash 來展示我的攝影作品。新拍攝的作品意外的沒有我的舊照片這麼受歡迎。</p><p>我的 WSL Utilities 愈發的受到關注。在 GitHub 上項目已經超過600 Stars。 WSL Utilities 已經內建於 Ubuntu， Pengwin 以及 Fedora Remix，我也自行提交安裝包至 Alpine Linux，最近 Kali Linux 也提出了想要收錄 WSL Utilities 的意願。這是讓我最開心的，着意味着這兩年的工作我並沒有白費。</p><p>我開始了新的漫畫合集 “Jokes On Me”， 但是覺得畫得不是很好，暫時先撤下了。2020年，將會是這個系列的全新開始。</p><h2 id="2020干啥"><a class="markdownIt-Anchor" href="#2020干啥"></a> 2020，干啥？</h2><h3 id="開始做音樂"><a class="markdownIt-Anchor" href="#開始做音樂"></a> 開始做音樂</h3><p>這幾年來，我都沒有創造任何的音樂。不過隨着老的筆記本淘汰以及拿到了Macbook Pro，我雪藏在 iCloud 里的音樂將重獲新生。</p><h3 id="寫和平路書報攤和wsl指北"><a class="markdownIt-Anchor" href="#寫和平路書報攤和wsl指北"></a> 寫《和平路書報攤》和《WSL指北》</h3><p>不用寫完。寫完是一個很苛刻的要求。我不善寫作，這會給我很大的壓力。</p><h3 id="認真的去找個女朋友-2"><a class="markdownIt-Anchor" href="#認真的去找個女朋友-2"></a> 認真的去找個女朋友</h3><p>這個已經成爲了我的 Annual To-Do 了。不過，我真的應該找個女友了。再不找，我覺得我要老了。</p><h3 id="繼續鍛鍊"><a class="markdownIt-Anchor" href="#繼續鍛鍊"></a> 繼續鍛鍊</h3><p>不能放棄。</p><h3 id="找到一封工作考研成功"><a class="markdownIt-Anchor" href="#找到一封工作考研成功"></a> 找到一封工作/考研成功</h3><p>希望吧。</p><h2 id="後記"><a class="markdownIt-Anchor" href="#後記"></a> 後記</h2><p>我最近精神崩潰了好幾次。我只希望，我能夠哭着走出2019，笑着走出2020。</p><p>希望吧。</p><p>也只不過是個希望罷了。</p><p>Merry Christmas and Happy New Year.</p><blockquote><p>Patrick Wu J M, 2019年12月25日，聖誕節。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;2019我做到了嗎&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#2019我做到了嗎&quot;&gt;&lt;/a&gt; 2019，我做到了嗎？&lt;/h2&gt;
&lt;p&gt;2018年，我為自己訂下了這些目標：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;寫完《和平路書報攤》和《WSL指北
      
    
    </summary>
    
    
    
      <category term="Annual Review" scheme="https://patrickwu.space/tags/Annual-Review/"/>
    
  </entry>
  
  <entry>
    <title>在WSL2上编译并使用Darling</title>
    <link href="https://patrickwu.space/2019/10/29/wsl2-darling-build-cn/"/>
    <id>https://patrickwu.space/2019/10/29/wsl2-darling-build-cn/</id>
    <published>2019-10-29T02:12:12.000Z</published>
    <updated>2020-05-22T15:06:21.736Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>翻译并修改自<a href="https://github.com/darlinghq/darling/issues/260#issuecomment-530184521" target="_blank" rel="noopener">darlinghq/darling issue #260 的评论</a></p></blockquote><h1 id="tldr"><a class="markdownIt-Anchor" href="#tldr"></a> TL;DR</h1><p>这篇文章将会讲述如何在 WSL2 上编译并使用<a href="http://www.darlinghq.org/" target="_blank" rel="noopener">Darling</a>，一款可以在 Linux 系统上运行 Darwin （就是 MacOS 的开源内核）的兼容层,就像 WineHQ 一样。</p><h2 id="编译-darling-和-wsl2-kernel"><a class="markdownIt-Anchor" href="#编译-darling-和-wsl2-kernel"></a> 编译 Darling 和 WSL2 Kernel</h2><p>打开 WSL Ubuntu，并依次键入以下指令。以下指令会下载、编译和安装除了 Kernel 以外大部分 Darling 组件，并下载、编译和安装一份修改过的 WSL Kernel并复制到C盘。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"># 确保32位依赖能正确安装</span><br><span class="line">sudo dpkg --add-architecture i386</span><br><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line"># 安装必要的安装包</span><br><span class="line">sudo apt-get install cmake clang bison flex xz-utils libfuse-dev libudev-dev pkg-config libc6-dev:i386 linux-headers-generic gcc-multilib libcap2-bin libcairo2-dev libgl1-mesa-dev libtiff5-dev libfreetype6-dev libfreetype6-dev:i386 git libelf-dev libxml2-dev libegl1-mesa-dev libfontconfig1-dev libbsd-dev libssl-dev</span><br><span class="line"></span><br><span class="line"># 克隆并编译 Darling</span><br><span class="line">git clone --recursive https:&#x2F;&#x2F;github.com&#x2F;darlinghq&#x2F;darling.git</span><br><span class="line">cd darling</span><br><span class="line">mkdir build &amp;&amp; cd build</span><br><span class="line">cmake ..</span><br><span class="line"></span><br><span class="line"># 链接一些文件到 &#96;&#x2F;usr&#x2F;include&#96;</span><br><span class="line">sudo ln -s &#x2F;usr&#x2F;include&#x2F;x86_64-linux-gnu&#x2F;jconfig.h &#x2F;usr&#x2F;include&#x2F;jconfig.h</span><br><span class="line">sudo ln -s &#x2F;usr&#x2F;include&#x2F;x86_64-linux-gnu&#x2F;tiffio.h &#x2F;usr&#x2F;include&#x2F;tiffio.h</span><br><span class="line">sudo ln -s &#x2F;usr&#x2F;include&#x2F;x86_64-linux-gnu&#x2F;tiff.h &#x2F;usr&#x2F;include&#x2F;tiff.h</span><br><span class="line">sudo ln -s &#x2F;usr&#x2F;include&#x2F;x86_64-linux-gnu&#x2F;tiffconf.h &#x2F;usr&#x2F;include&#x2F;tiffconf.h</span><br><span class="line">sudo ln -s &#x2F;usr&#x2F;include&#x2F;x86_64-linux-gnu&#x2F;tiffvers.h &#x2F;usr&#x2F;include&#x2F;tiffvers.h</span><br><span class="line">sudo ln -s &#x2F;usr&#x2F;include&#x2F;x86_64-linux-gnu&#x2F;tiffio.hxx &#x2F;usr&#x2F;include&#x2F;tiffio.hxx</span><br><span class="line"></span><br><span class="line"># 编译大部分Darling 组件</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br><span class="line"></span><br><span class="line"># 在编译 Kernel 模块之前，我们需要编译</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line"># 克隆并修改 Kernel</span><br><span class="line">git clone --depth 1 --single-branch --branch master https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;WSL2-Linux-Kernel.git kernel</span><br><span class="line">cd kernel</span><br><span class="line">sed -i &#39;s&#x2F;CONFIG_EMBEDDED&#x3D;y&#x2F;CONFIG_EMBEDDED&#x3D;n&#x2F;g&#39; Microsoft&#x2F;config-wsl</span><br><span class="line"></span><br><span class="line"># 编译并安装 Kernel</span><br><span class="line">make KCONFIG_CONFIG&#x3D;Microsoft&#x2F;config-wsl</span><br><span class="line">sudo make modules_install</span><br><span class="line">sudo make install</span><br><span class="line">sudo update-initramfs -c -k 4.19.67-microsoft-standard+</span><br><span class="line"></span><br><span class="line"># 复制到C盘；当然，你也可以选择复制到任何地方</span><br><span class="line">mkdir &#x2F;mnt&#x2F;c&#x2F;linux-kernels</span><br><span class="line">cp &#x2F;boot&#x2F;vmlinuz-4.19.67-microsoft-standard+ &#x2F;mnt&#x2F;c&#x2F;linux-kernels&#x2F;vmlinuz-4.19.67-microsoft-standard+</span><br></pre></td></tr></table></figure><h2 id="修改-wsl2-使用的-kernel"><a class="markdownIt-Anchor" href="#修改-wsl2-使用的-kernel"></a> 修改 WSL2 使用的 Kernel</h2><p>现在在你 Windows 用户文件夹下创建（或编辑） <code>.wslconfig</code> ，加入以下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[wsl2]</span><br><span class="line">#你的其他设置</span><br><span class="line">kernel&#x3D;C:\\linux-kernels\\vmlinuz-4.19.67-microsoft-standard+</span><br></pre></td></tr></table></figure><p>然后在 PowerShell 或者命令行里输入以下命令关闭所有运行中的 WSL 发行版：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --shutdown</span><br></pre></td></tr></table></figure><h2 id="编译-darling-kernel-模组"><a class="markdownIt-Anchor" href="#编译-darling-kernel-模组"></a> 编译 Darling Kernel 模组</h2><p>重新打开你的 WSL 窗口并执行以下命令。以下指令会编译并安装 Kernel 模组：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get back to the directory you built Darling in</span></span><br><span class="line"><span class="built_in">cd</span> darling/build</span><br><span class="line">make lkm</span><br><span class="line">sudo make lkm_install</span><br></pre></td></tr></table></figure><h2 id="搞定"><a class="markdownIt-Anchor" href="#搞定"></a> 搞定！</h2><p>目前仍然有一个Bug使<code>darling shell</code> 只能以<code>root</code>用户运行，这意味着你只能用以下命令运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo darling shell</span><br></pre></td></tr></table></figure><p>然后享受 Darwin on Linux on Windows 吧！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;翻译并修改自&lt;a href=&quot;https://github.com/darlinghq/darling/issues/260#issuecomment-530184521&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;darlin
      
    
    </summary>
    
    
    
      <category term="WSL" scheme="https://patrickwu.space/tags/WSL/"/>
    
      <category term="WSL2" scheme="https://patrickwu.space/tags/WSL2/"/>
    
      <category term="Darwin" scheme="https://patrickwu.space/tags/Darwin/"/>
    
  </entry>
  
  <entry>
    <title>在WSL上配置输入法</title>
    <link href="https://patrickwu.space/2019/10/28/wsl-fcitx-setup-cn/"/>
    <id>https://patrickwu.space/2019/10/28/wsl-fcitx-setup-cn/</id>
    <published>2019-10-28T14:12:00.000Z</published>
    <updated>2020-02-17T06:08:10.587Z</updated>
    
    <content type="html"><![CDATA[<h1 id="tldr"><a class="markdownIt-Anchor" href="#tldr"></a> TL;DR</h1><p>这篇文章会简述如何在WSL上配置输入法,以进行中日韩输入。安装以 Ubuntu 为例。</p><h2 id="为啥"><a class="markdownIt-Anchor" href="#为啥"></a> 为啥?</h2><p>WSL 在 GUI 下并不支持 Windows CJK 输入法的直接输入，所以要配置独立的输入法。这种方法既适用于Linux桌面环境，也适用于多窗口。</p><h2 id="安装-fcitx-小企鹅输入法"><a class="markdownIt-Anchor" href="#安装-fcitx-小企鹅输入法"></a> 安装 fcitx （小企鹅输入法）</h2><p>输入以下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install fcitx fonts-noto-cjk fonts-noto-color-emoji dbus-x11</span><br></pre></td></tr></table></figure><p>这会安装 CJK 字体和 fcitx 核心。</p><p>然后,安装你想要使用的输入法。下表列出了一些比较常用的 fcitx 输入法：</p><table><thead><tr><th>语言</th><th>输入法</th><th>安装包名称</th></tr></thead><tbody><tr><td>中文</td><td>基于<code>sunpinyin</code>引擎的拼音输入法</td><td><code>fcitx-sunpinyin</code></td></tr><tr><td>中文</td><td>基于<code>libpinyin</code>引擎的拼音输入法</td><td><code>fcitx-libpinyin</code></td></tr><tr><td>中文</td><td>谷歌拼音输入法</td><td><code>fcitx-googlepinyin</code></td></tr><tr><td>中文</td><td>基于<code>rime</code>引擎的输入法</td><td><code>fcitx-rime</code></td></tr><tr><td>中文</td><td>新酷音输入法</td><td><code>fcitx-chewing</code></td></tr><tr><td>日文</td><td>基于<code>Anthy</code>引擎的日文输入法</td><td><code>fcitx-anthy</code></td></tr><tr><td>日文</td><td>基于<code>mozc</code>引擎的日文输入法</td><td><code>fcitx-mozc</code></td></tr><tr><td>日文</td><td>假名-汉字转换器(kkc)日文输入法</td><td><code>fcitx-kkc</code> <code>fcitx-kkc-dev</code></td></tr><tr><td>韩文</td><td>韩语输入法</td><td><code>fcitx-hangul</code></td></tr><tr><td>越南文</td><td>基于<code>unikey</code>引擎的越南文输入法</td><td><code>fcitx-unikey</code></td></tr><tr><td>僧伽罗文</td><td>僧伽罗文输入法</td><td><code>fcitx-sayura</code></td></tr><tr><td>-</td><td>码表类输入法</td><td><code>fcitx-table</code> <code>fcitx-table-all</code></td></tr></tbody></table><p>使用 <code>sudo apt install &lt;安装包名称&gt;</code>进行安装。</p><h2 id="配置输入环境"><a class="markdownIt-Anchor" href="#配置输入环境"></a> 配置输入环境</h2><p>首先使用root账号生成dbus机器码：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dbus-uuidgen &gt; /var/lib/dbus/machine-id</span><br></pre></td></tr></table></figure><p>用<code>root</code>账号创建<code>/etc/profile.d/fcitx.sh</code>文件, 内容如下:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">export QT_IM_MODULE=fcitx</span><br><span class="line">export GTK_IM_MODULE=fcitx</span><br><span class="line">export XMODIFIERS=@im=fcitx</span><br><span class="line">export DefaultIMModule=fcitx</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">可选，fcitx 自启</span></span><br><span class="line">fcitx-autostart &amp;&gt;/dev/null</span><br></pre></td></tr></table></figure><h2 id="初期配置"><a class="markdownIt-Anchor" href="#初期配置"></a> 初期配置</h2><p>首先确保你的 X 服务器已启动，并配置好了<code>DISPLAY</code>。WSL2 的话，请确保 WSL2 的公共 IP 可以与 X 服务器建立连接。</p><p>运行以下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export GTK_IM_MODULE=fcitx</span><br><span class="line">export QT_IM_MODULE=fcitx</span><br><span class="line">export XMODIFIERS=@im=fcitx</span><br><span class="line">export DefaultIMModule=fcitx</span><br><span class="line">fcitx-autostart &amp;&gt;/dev/null</span><br></pre></td></tr></table></figure><p><strong>fcitx</strong> 会启动。</p><p>运行 <code>fcitx-config-gtk3</code>,会出现如图的界面：</p><p><img src="https://cdn.patrickwu.space/posts/dev/wsl/fcitx-1.png" alt="" /></p><p>安装好后，如果没有看见输入法，点击左下角的**+**，搜索安装好的输入法：</p><p><img src="//cdn.patrickwu.space/posts/dev/wsl/fcitx-2.png" alt="" /></p><p>选择点击 OK 即可添加。</p><p>然后选择 <strong>Global Config</strong> ，将 <strong>Trigger Input Method</strong> 与 <strong>Scroll between Input Method</strong> 的快捷键修改掉（与微软拼音输入法快捷键冲突）：</p><p><img src="//cdn.patrickwu.space/posts/dev/wsl/fcitx-3.png" alt="" /></p><p>至此，配置完成！</p><h2 id="效果"><a class="markdownIt-Anchor" href="#效果"></a> 效果</h2><p>在任意GUI应用用 <strong>Trigger Input</strong> 设置的快捷键启用输入法，用 <strong>Scroll between Input Method</strong> 的快捷键切换输入法，效果如下：</p><p><img src="//cdn.patrickwu.space/posts/dev/wsl/fcitx-4.png" alt="" /></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;tldr&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#tldr&quot;&gt;&lt;/a&gt; TL;DR&lt;/h1&gt;
&lt;p&gt;这篇文章会简述如何在WSL上配置输入法,以进行中日韩输入。安装以 Ubuntu 为例。&lt;/p&gt;
&lt;h2 id=&quot;为啥&quot;&gt;&lt;a cl
      
    
    </summary>
    
    
    
      <category term="WSL" scheme="https://patrickwu.space/tags/WSL/"/>
    
  </entry>
  
  <entry>
    <title>Setup Input Method for WSL</title>
    <link href="https://patrickwu.space/2019/10/28/wsl-fcitx-setup/"/>
    <id>https://patrickwu.space/2019/10/28/wsl-fcitx-setup/</id>
    <published>2019-10-28T14:12:00.000Z</published>
    <updated>2020-02-17T06:08:22.388Z</updated>
    
    <content type="html"><![CDATA[<h1 id="tldr"><a class="markdownIt-Anchor" href="#tldr"></a> TL;DR</h1><p>This article will talk about how to configure input method for CJK input. Using Ubuntu as example.</p><h2 id="why"><a class="markdownIt-Anchor" href="#why"></a> Why?</h2><p>WSL do not support direct CJK input from Windows input method, so we need to configure input method independently on WSL. This will applies to both multi-window mode and single-window mode on your preferred X Server.</p><h2 id="install-fcitx"><a class="markdownIt-Anchor" href="#install-fcitx"></a> Install fcitx</h2><p>Type the follwing command:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install fcitx fonts-noto-cjk fonts-noto-color-emoji dbus-x11</span><br></pre></td></tr></table></figure><p>This will install CJK fonts and <code>fcitx</code>.</p><p>Then, install the input method you want. Here is a list of common fcitx input method:</p><table><thead><tr><th>Language</th><th>Input Method</th><th>Package</th></tr></thead><tbody><tr><td>Chinese</td><td><code>sunpinyin</code>-based pinyin input</td><td><code>fcitx-sunpinyin</code></td></tr><tr><td>Chinese</td><td><code>libpinyin</code>-based pinyin input</td><td><code>fcitx-libpinyin</code></td></tr><tr><td>Chinese</td><td>Google Pyinyin Input</td><td><code>fcitx-googlepinyin</code></td></tr><tr><td>Chinese</td><td><code>rime</code>-based Chinese input</td><td><code>fcitx-rime</code></td></tr><tr><td>Chinese</td><td>Chewing Input</td><td><code>fcitx-chewing</code></td></tr><tr><td>Japanese</td><td><code>Anthy</code>-based Japanese Input</td><td><code>fcitx-anthy</code></td></tr><tr><td>Japanese</td><td><code>mozc</code>-based Japanese Input</td><td><code>fcitx-mozc</code></td></tr><tr><td>Japanese</td><td>Kana-Kanji Converter (kkc) Japanese Input</td><td><code>fcitx-kkc</code> <code>fcitx-kkc-dev</code></td></tr><tr><td>Korean</td><td>Korean Input</td><td><code>fcitx-hangul</code></td></tr><tr><td>Vietnamese</td><td><code>unikey</code>-based Vietnamese Input</td><td><code>fcitx-unikey</code></td></tr><tr><td>Sinhalese</td><td>Sinhalese Input</td><td><code>fcitx-sayura</code></td></tr><tr><td>-</td><td>Fcitx Tables Input</td><td><code>fcitx-table</code> <code>fcitx-table-all</code></td></tr></tbody></table><p>Install using  <code>sudo apt install &lt;Package&gt;</code>.</p><h2 id="confiure-environment"><a class="markdownIt-Anchor" href="#confiure-environment"></a> Confiure environment</h2><p>generate dbus machine id using <code>root</code> account:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dbus-uuidgen &gt; /var/lib/dbus/machine-id</span><br></pre></td></tr></table></figure><p>create <code>/etc/profile.d/fcitx.sh</code> file using <code>root</code> account with following content:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">export QT_IM_MODULE=fcitx</span><br><span class="line">export GTK_IM_MODULE=fcitx</span><br><span class="line">export XMODIFIERS=@im=fcitx</span><br><span class="line">export DefaultIMModule=fcitx</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">optional</span></span><br><span class="line">fcitx-autostart &amp;&gt;/dev/null</span><br></pre></td></tr></table></figure><h2 id="initial-configuration"><a class="markdownIt-Anchor" href="#initial-configuration"></a> Initial Configuration</h2><p>Make sure you X Server is already started and complete configured <code>DISPLAY</code>. For WSL2, make sure public access is granted on your X Server.</p><p>Run following commands:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export GTK_IM_MODULE=fcitx</span><br><span class="line">export QT_IM_MODULE=fcitx</span><br><span class="line">export XMODIFIERS=@im=fcitx</span><br><span class="line">export DefaultIMModule=fcitx</span><br><span class="line">fcitx-autostart &amp;&gt;/dev/null</span><br></pre></td></tr></table></figure><p>fcitx will start now.</p><p>Run <code>fcitx-config-gtk3</code>, following interface will appear:</p><p><img src="https://cdn.patrickwu.space/posts/dev/wsl/fcitx-1.png" alt="" /></p><p>If you complete input installation but don’t see your input method，press <strong>+</strong> on the bottom left corner and search for the input you installed:</p><p><img src="//cdn.patrickwu.space/posts/dev/wsl/fcitx-2.png" alt="" /></p><p>Press <strong>OK</strong> to add.</p><p>Then choose <strong>Global Config</strong> and change the hotkey to **Trigger Input Method and <strong>Scroll between Input Method</strong> (They are conflict with Microsoft Pinyin Input Hotkey):</p><p><img src="//cdn.patrickwu.space/posts/dev/wsl/fcitx-3.png" alt="" /></p><p>Now, the configuration is complete!</p><h2 id="outcome"><a class="markdownIt-Anchor" href="#outcome"></a> Outcome</h2><p>In any GUI application, use the hotkey set for <strong>Trigger Input</strong> to start input method and use the hotkey set for <strong>Scroll between Input Method</strong> to switch input method, the outcome is like the following:</p><p><img src="//cdn.patrickwu.space/posts/dev/wsl/fcitx-4.png" alt="" /></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;tldr&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#tldr&quot;&gt;&lt;/a&gt; TL;DR&lt;/h1&gt;
&lt;p&gt;This article will talk about how to configure input method for CJ
      
    
    </summary>
    
    
    
      <category term="WSL" scheme="https://patrickwu.space/tags/WSL/"/>
    
  </entry>
  
  <entry>
    <title>Format drive larger than 2TiB in Alicloud</title>
    <link href="https://patrickwu.space/2019/08/28/server-alicloud-format-drive-larger-than-2tib/"/>
    <id>https://patrickwu.space/2019/08/28/server-alicloud-format-drive-larger-than-2tib/</id>
    <published>2019-08-28T03:02:12.000Z</published>
    <updated>2020-02-17T06:03:47.908Z</updated>
    
    <content type="html"><![CDATA[<h1 id="tldr"><a class="markdownIt-Anchor" href="#tldr"></a> TL;DR</h1><p>This is a quick reference for formatting Alicloud cloud drive that is higher than 2 TiB because the original guide is messy.</p><h2 id="steps"><a class="markdownIt-Anchor" href="#steps"></a> Steps</h2><ol><li>Check <code>parted</code> and <code>e2fsprogs</code> are both installed.</li><li>Usually cloud drive is automatically mounted at <code>/dev/vdb</code>, <code>/dev/vdc</code>, etc. check using <code>fdisk -l</code>.</li><li>Run <code>parted /dev/vdx</code>.</li><li>In new prompt, run <code>mklabel gpt</code>.</li><li>Create partition.<ul><li>For <strong>ext4</strong>: <code>mkpart primary ext4 0 -1</code>.</li><li>For <strong>xfs</strong>: <code>mkpart primary xfs 0 -1</code>.</li></ul></li><li><code>print</code> to check partition then exit by <code>exit</code>.</li><li>Run <code>partprobe</code> to make system re-read the partition table.</li><li>Set property to partion.<ul><li>For <strong>ext4</strong>: <code>mke2fs -O 64bit,has_journal,extents,huge_file,flex_bg,uninit_bg,dir_nlink,extra_isize /dev/vdb1</code>.</li><li>For <strong>xfs</strong>: <code>mkfs -t xfs /dev/vdb1</code>.</li></ul></li><li><code>mkdir /storage &amp;&amp; mount /dev/vdb1 /storage</code> to mount at <code>/storage</code>.</li><li><code>umount /storage</code> to un-mount.</li></ol><h2 id="startup-setup"><a class="markdownIt-Anchor" href="#startup-setup"></a> Startup Setup</h2><ol><li>Backup fstab by <code>cp /etc/fstab /etc/fstab.bak</code>.</li><li><code>echo /dev/vdb1 /storage ext4 defaults 0 0 &gt;&gt; /etc/fstab</code> for ext4 and <code>echo /dev/vdb1 /storage xfs defaults 0 0 &gt;&gt; /etc/fstab</code> for xfs.</li><li>Verify by <code>cat /etc/fstab</code>.</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;tldr&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#tldr&quot;&gt;&lt;/a&gt; TL;DR&lt;/h1&gt;
&lt;p&gt;This is a quick reference for formatting Alicloud cloud drive tha
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="https://patrickwu.space/tags/Linux/"/>
    
      <category term="Ubuntu" scheme="https://patrickwu.space/tags/Ubuntu/"/>
    
      <category term="Server" scheme="https://patrickwu.space/tags/Server/"/>
    
  </entry>
  
  <entry>
    <title>Collection of Continuing Updating Notes On Linux</title>
    <link href="https://patrickwu.space/2019/08/20/linux-tips/"/>
    <id>https://patrickwu.space/2019/08/20/linux-tips/</id>
    <published>2019-08-19T16:00:10.000Z</published>
    <updated>2020-02-17T06:00:05.213Z</updated>
    
    <content type="html"><![CDATA[<h1 id="what"><a class="markdownIt-Anchor" href="#what"></a> What?</h1><p>Well, I always forget about small tricks on get something done on linux and sometimes even when I keep it locally, I forget about where the heck they are and search them again. But these small tips are just so tiny that they cannot be kept as articles. So now I will keep everything here so I won’t forget about them.</p><h2 id="give-sudo-password-a-star"><a class="markdownIt-Anchor" href="#give-sudo-password-a-star"></a> Give sudo password a star</h2><p>You first <code>visudo</code>, then append <code>,pwfeedback</code> on the line <code>Defaults env_reset</code>, and then it’s done.</p><h2 id="disable-error-reporting-in-ubuntu"><a class="markdownIt-Anchor" href="#disable-error-reporting-in-ubuntu"></a> Disable Error Reporting in Ubuntu</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo service apport stop</span><br><span class="line">sudo gedit /etc/default/apport</span><br></pre></td></tr></table></figure><p>change <code>enabled=1</code> to <code>enabled=0</code></p><h2 id="fix-time-differences-in-ubuntu-windows"><a class="markdownIt-Anchor" href="#fix-time-differences-in-ubuntu-windows"></a> Fix Time Differences in Ubuntu &amp; Windows</h2><p>In previous Ubuntu editions, you can edit the config file <code>/etc/default/rcS</code> to disable UTC.</p><p>In Ubuntu 16.04, open terminal (<strong>Ctrl+Alt+T</strong>) and run the command below instead:</p><p><code>timedatectl set-local-rtc 1 --adjust-system-clock</code></p><p>To check out if your system uses Local time, just run:</p><p><code>timedatectl</code></p><p>you’ll the local time zone is in use in the Warning section.</p><h2 id="ssh-folder-permission"><a class="markdownIt-Anchor" href="#ssh-folder-permission"></a> SSH folder permission</h2><ul><li><code>.ssh</code> folder: <code>700</code></li><li><code>*.pub</code>: <code>644</code></li><li>pravate keys, config, known_hosts: <code>600</code></li></ul><h2 id="how-to-display-asian-character-poroperly-in-antergos"><a class="markdownIt-Anchor" href="#how-to-display-asian-character-poroperly-in-antergos"></a> How to display Asian character poroperly in Antergos</h2><p>I tried multiple ways of installing Chinese font like <code>ttf-arphic-uming</code>, <code>adobe-source-han-sans-otc-fonts</code> and <code>noto-fonts-cjk</code>. This packages solved the problem in system, but not in browsers like Chrome and Firefox.</p><p>Reference: <a href="https://bbs.archlinux.org/viewtopic.php?id=158897" target="_blank" rel="noopener">this post</a></p><ol><li>Remove <code>ttf-google-fonts</code>(Google Web Font)</li><li>Install one of them: <code>ttf-arphic-uming</code>, <code>adobe-source-han-sans-otc-fonts</code>, <code>noto-fonts-cjk</code></li><li>rebuild the font cache using <code>sudo fc-cache -f -v</code> to regenerate font cache.</li></ol><p>To keep it safe, Here is a Ubuntu font config:</p><table><thead><tr><th style="text-align:left">Font Location</th><th style="text-align:right">Font  Name</th></tr></thead><tbody><tr><td style="text-align:left">Window Titles</td><td style="text-align:right">Cantarell Bold</td></tr><tr><td style="text-align:left">Interface</td><td style="text-align:right">Ubuntu</td></tr><tr><td style="text-align:left">Documents</td><td style="text-align:right">Sans</td></tr><tr><td style="text-align:left">Monospace</td><td style="text-align:right">Ubuntu Mono</td></tr></tbody></table><h2 id="manually-install-linux-kernel-in-ubuntu"><a class="markdownIt-Anchor" href="#manually-install-linux-kernel-in-ubuntu"></a> Manually Install Linux kernel in Ubuntu</h2><p>Download Latest Kernel Here:<br /><a href="http://kernel.ubuntu.com/~kernel-ppa/mainline/" target="_blank" rel="noopener">http://kernel.ubuntu.com/~kernel-ppa/mainline/</a></p><h3 id="x86"><a class="markdownIt-Anchor" href="#x86"></a> x86</h3><p>Download <code>headers-all</code>, <code>headers-i386</code>, <code>image-i386</code> and install all the deb.</p><h3 id="x64"><a class="markdownIt-Anchor" href="#x64"></a> x64</h3><p>Download <code>headers-all</code>, <code>headers-amd64</code>, <code>image-amd64</code> and install all the deb.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;what&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#what&quot;&gt;&lt;/a&gt; What?&lt;/h1&gt;
&lt;p&gt;Well, I always forget about small tricks on get something done on
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="https://patrickwu.space/tags/Linux/"/>
    
      <category term="Ubuntu" scheme="https://patrickwu.space/tags/Ubuntu/"/>
    
      <category term="SSH" scheme="https://patrickwu.space/tags/SSH/"/>
    
      <category term="Antergos" scheme="https://patrickwu.space/tags/Antergos/"/>
    
  </entry>
  
  <entry>
    <title>How to stop Powershell from resetting your WSL console font</title>
    <link href="https://patrickwu.space/2019/08/03/wsl-powershell-raster-font-problem/"/>
    <id>https://patrickwu.space/2019/08/03/wsl-powershell-raster-font-problem/</id>
    <published>2019-08-03T02:27:26.000Z</published>
    <updated>2020-02-17T06:09:10.646Z</updated>
    
    <content type="html"><![CDATA[<p>This problem exists for a long time, starting from the beginning of my development of <code>wslu</code> project. Someone told me there was such problem but unfortunately I am unable to reproduce such problem for a very long time (Later turned out that using the experimental UTF-8 option at the time in Insider builds prevent this issue). Few days ago, someone opened an issue (<a href="https://github.com/wslutilities/wslu/issues/83" target="_blank" rel="noopener">wslutilities/wslu issue #83</a>) so that I have to took it more seriously and I created a Virtual Machine trying to reproduce the issue. And I did.</p><p>Tracing down and found out this is an existing issue for a long time(<a href="https://github.com/microsoft/terminal/issues/280" target="_blank" rel="noopener">Microsoft/Terminal issue #280</a>). As one Microsoft employee on <code>wslu</code>'s issue said,</p><blockquote><p>Powershell sets and resets the system codepage, which it shouldn’t be doing. This can cause the fonts to reset to “raster fonts”.</p></blockquote><p>So what does this mean? Well, by default, system have a global variable called the <strong>OEM Codepage</strong> (<code>oemcp</code>). It is usually a 3 to 4-digit number determined by your system language, and this is intended to help apps to determine what character set it needs to use. For example, “<strong>OEM - United States</strong>” is Codepage 437. There is a lot more, checkout Wikipedia page of <a href="https://en.wikipedia.org/wiki/Category:DOS_code_pages" target="_blank" rel="noopener">DOS code pages</a> and <a href="https://en.wikipedia.org/wiki/Windows_code_page" target="_blank" rel="noopener">Windows code pages</a>.</p><p>Among them, there is one special codepage: 65001, or better known as <strong>UTF-8</strong>. In latest version of Windows, you can set the OEM Codepage to UTF-8 by going to Control Panel -&gt; Clock and Region -&gt; Change date, time or number formats -&gt; Administrative -&gt; Change System Locale and choose <strong>Use Unicode UTF-8</strong>:</p><p><img src="https://cdn.patrickwu.space/posts/dev/ps-raster/1.png" alt="" /></p><p>And now problem surfaces: WSL Distro consoles do not use <strong>OEM Codepage</strong>, they use <strong>Unicode UTF-8 Codepage</strong>; but PowerShell uses <strong>OEM Codepage</strong>. So, if you don’t set system to use the Unicode UTF-8, executing mixing commands with bash and PowerShell cause <code>powershell.exe</code> to reset codepage forcefully which leads to resetting the console to raster font.</p><p>Now it is clear what caused the problem, so the solution become simple:</p><ol><li>set to OEM Codepage before you do powershell;</li><li>powershell something;</li><li>set back to WSL Distro console Codepage 65001.</li></ol><p>You can use the <code>chcp.com</code> (<strong>ch</strong>ange <strong>c</strong>ode<strong>p</strong>age) to change codepage.</p><p>So for the first step, you should get <strong>OEM Codepage</strong> from registry (in WSL):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oemcp=$(reg.exe query <span class="string">"HKLM\\SYSTEM\\CurrentControlSet\\Control\\Nls\\CodePage"</span> /v OEMCP 2&gt;&amp;1 | sed -n 3p | sed -e <span class="string">'s|\r||g'</span> | grep -o <span class="string">'[[:digit:]]*'</span>)</span><br></pre></td></tr></table></figure><p>Then set the WSL console codepage to OEM Codepage:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chcp.com <span class="variable">$oemcp</span></span><br></pre></td></tr></table></figure><p>Then you powershell something. When complete, set back to UTF-8 Codepage:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chcp.com 65001</span><br></pre></td></tr></table></figure><p>Overall, it should be something like this:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">oemcp=$(reg.exe query <span class="string">"HKLM\\SYSTEM\\CurrentControlSet\\Control\\Nls\\CodePage"</span> /v OEMCP 2&gt;&amp;1 | sed -n 3p | sed -e <span class="string">'s|\r||g'</span> | grep -o <span class="string">'[[:digit:]]*'</span>)</span><br><span class="line">chcp.com <span class="variable">$oemcp</span></span><br><span class="line">powershell.exe ...</span><br><span class="line">chcp.com 65001</span><br></pre></td></tr></table></figure><p>Now, the problem is gone!</p><p><img src="https://cdn.patrickwu.space/posts/dev/ps-raster/2.png" alt="" /></p><p><strong>UPDATE</strong>: Some spelling and grammar error fixes and better elaboration.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;This problem exists for a long time, starting from the beginning of my development of &lt;code&gt;wslu&lt;/code&gt; project. Someone told me there wa
      
    
    </summary>
    
    
    
      <category term="WSL" scheme="https://patrickwu.space/tags/WSL/"/>
    
      <category term="Powershell" scheme="https://patrickwu.space/tags/Powershell/"/>
    
  </entry>
  
  <entry>
    <title>Microsft build 2019: My Tiny Little Summary</title>
    <link href="https://patrickwu.space/2019/05/10/build-2019/"/>
    <id>https://patrickwu.space/2019/05/10/build-2019/</id>
    <published>2019-05-09T23:32:43.000Z</published>
    <updated>2020-02-17T05:55:54.765Z</updated>
    
    <content type="html"><![CDATA[<h2 id="tl-dr"><a class="markdownIt-Anchor" href="#tl-dr"></a> TL; DR</h2><p>This is a summary for some of the topics that I am interested in Build 2019. Build 2019 is a fun experience for me, where I met different people, speak here, and most importantly, learn new ideas and new changes in the Windows ecosystem.</p><p>And here is a photograph of me with Scott Hanselman 😉</p><p><img src="https://cdn.patrickwu.space/posts/dev/with-scott-hanselman.jpg" alt="A photograph of me with Scott Hanselman" /></p><h2 id="wsl-2"><a class="markdownIt-Anchor" href="#wsl-2"></a> WSL 2</h2><p>WSL 2 is one of the most import parts of Build 2019 for me. I got some teases of WSL 2 before Build 2019 and already really got excited about it, and Hayden and I got an early demo at the booth too, which literally blew my mind. So, in the following part, I will just throw facts from the build from the sessions and the question asked:</p><p>Highlights:</p><ol><li>WSL 2 is fast. Really fast.</li><li>Nearly all system call is working, which means:<ol><li><code>systemd</code>/FUSE/Docker now works properly.</li><li>Sound support is not on the schedule.</li><li>x32 support.</li><li><code>mount</code> command works too, which means you can mount Linux partition in this method.</li></ol></li><li>Uses a modified version of Linux Kernel 2.19 and changes to WSL will also available upstream.</li><li>You can switch between WSL 1 and WSL 2 using <code>wsl --set-version &lt;distro&gt; &lt;wsl version&gt;</code>.</li><li>WSL 2 uses 9P protocol to access Windows file in WSL and access WSL file in Windows.</li><li>the filesystem for each distro will be <code>ext4</code> instead of <code>WslFS</code>.</li><li>Yes, it’s using hypervisor; but no, it’s not Hyper-V. it’s a lightweight virtual machine using Windows Virtual Machine Platform that can be run along with Hyper-V, its boot time will be around 1-2 seconds.</li></ol><p>Drawbacks:</p><ol><li>Currently WSL 2 will have a different IP address currently; the fix is still on the way.</li><li>The final WSL 2 might not ship in the release; even it is shipped, WSL 1 will remain as default and requires people to switch to WSL 2 manually.</li></ol><p>Schedules:</p><ol><li>GPU support is in working(High priority).</li><li>GUI support is in working(High priority).</li><li>Startup Support is in medium priority, not in working.</li><li>Sound support is not on schedule (for now).</li></ol><h2 id="windows-terminal"><a class="markdownIt-Anchor" href="#windows-terminal"></a> Windows Terminal</h2><p>Another exciting thing on Build this year is Windows Terminal. they even made a video for it! (Also our product Pengwin also made a cameo)</p><p>Highlights:</p><ol><li>It is already open sourced. The decision to open source only made several days ago, and it is being pushed during the Build 2019.</li><li>Tab support!</li><li>Full Unicode support! (CJK, Emoji, Powerline, Nerd)</li><li>Ligature Support!</li><li>A new font for Windows Terminal!</li><li>Fluent background!</li><li>The scrollbar can now be hidden!</li><li><code>Ctrl + Scroll</code> to change the font size.</li><li><code>Ctrl + Shift + Scroll</code> to change transparency.</li><li>The new rendering engine is using DirectX/GPU powered.</li><li>Each WSL distribution will have its own theme in the future.</li><li>In the future, there will be extension support using <code>wt</code>;</li><li>Some changes in Windows Terminal will come to <code>conhost.exe</code> too.</li><li>Deliver via store; first version in the summer 2019 and first release in the winter 2019.</li></ol><h2 id="winui"><a class="markdownIt-Anchor" href="#winui"></a> WinUI</h2><p>Highlight:</p><ul><li>Windows UI Library is live at <a href="https://github.com/Microsoft/Microsoft-ui-xaml" target="_blank" rel="noopener">https://github.com/Microsoft/Microsoft-ui-xaml</a>.</li><li>Fluent Design can be used in Win32, WinForms, and WPF with XAML Islands.</li><li>Fluent Design is expanding to Web, Android, and iOS with UI Fabric.</li><li>Xamarin and React Native will gain support for it.</li><li>Fabric Core is based on JS available on npm and NuGet.</li><li>Fabric React is available for React Native.</li></ul><p>Suggestions:</p><ul><li>Using NavigationView control instead of custom controls in UWP would be better. (Using it in UWP DevKit would be great)</li></ul><h2 id="progress-web-app"><a class="markdownIt-Anchor" href="#progress-web-app"></a> Progress Web App</h2><p>It seems that PWA is a new trend in building apps, so I watched the session live as I am attending <a href="http://ML.NET" target="_blank" rel="noopener">ML.NET</a> Session. Here are some highlights:</p><ul><li>Web Template Studio Extensions on VSCode help create PWA apps</li><li>PWA requires HTTPS, Web App Manifest, Service Worker at Minimum</li><li>Can be also built online using the help from <a href="https://pwabuilder.com" target="_blank" rel="noopener">PWA Builder</a></li><li>PWA can be now delivered in Windows Store instead of traditional WinJS and Web Host Apps.</li><li>Microsoft Graph Toolkit can be used in the Progress Web Apps.</li></ul><h2 id="c-80"><a class="markdownIt-Anchor" href="#c-80"></a> C# 8.0</h2><p>As a C# Developer, although I am not really active right now, I am still interested in what’s new in C#.</p><ul><li><p>Nullable Reference Type is available(with <code>?</code>) which means Null will possibly be returned in this type:</p> <figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Account? account = <span class="keyword">await</span> LookupAccountAsync(license);</span><br></pre></td></tr></table></figure><p>Now, if type will possibly be nullable, Visual Studio will warn you.</p></li><li><p>Hat operator <code>^</code>:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = b[^<span class="number">2.</span>.] <span class="comment">// the last 2 character till the end</span></span><br></pre></td></tr></table></figure></li><li><p>Updated case pattern matching from this:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">string</span> <span class="title">Categorizer</span>(<span class="params"><span class="keyword">object</span> test</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">switch</span>(test)</span><br><span class="line">  &#123;</span><br><span class="line">      <span class="keyword">case</span> Car c <span class="keyword">when</span> c.Passengers = <span class="number">0</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"car0"</span>;</span><br><span class="line">      <span class="keyword">case</span> Car c <span class="keyword">when</span> c.Passengers = <span class="number">1</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"car1"</span>;</span><br><span class="line">      <span class="keyword">case</span> Car c <span class="keyword">when</span> c.Passengers = <span class="number">2</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"car2"</span>;</span><br><span class="line">      <span class="keyword">case</span> Car _:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"car"</span>;</span><br><span class="line">  </span><br><span class="line">      <span class="function"><span class="keyword">case</span> Bus b <span class="title">when</span> (<span class="params">(Double</span>)b.Riders / b.Capacity) &lt; 0.5:</span></span><br><span class="line"><span class="function">          return "bus1"</span>;</span><br><span class="line">      <span class="function"><span class="keyword">case</span> Bus b <span class="title">when</span> (<span class="params">(Double</span>)b.Riders / b.Capacity) &lt; 0.9:</span></span><br><span class="line"><span class="function">          return "bus2"</span>;</span><br><span class="line">      <span class="keyword">case</span> Bus _:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"bus"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> Exception();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>to this:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">string</span> <span class="title">Categorizer</span>(<span class="params"><span class="keyword">object</span> test</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">switch</span>(test)</span><br><span class="line">  &#123;</span><br><span class="line">      <span class="keyword">case</span> Car &#123; Passengers: <span class="number">0</span>&#125;:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"car0"</span>;</span><br><span class="line">      <span class="keyword">case</span> Car &#123; Passengers: <span class="number">1</span>&#125;:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"car1"</span>;</span><br><span class="line">      <span class="keyword">case</span> Car &#123; Passengers: <span class="number">2</span>&#125;:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"car2"</span>;</span><br><span class="line">      <span class="keyword">case</span> Car _:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"car"</span>;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">case</span> <span class="title">Bus</span> (<span class="params"><span class="keyword">var</span> r, <span class="keyword">var</span> c</span>) <span class="title">when</span> (<span class="params">r / c</span>) &lt; 0.5:</span></span><br><span class="line"><span class="function">          return "bus1"</span>;</span><br><span class="line">      <span class="function"><span class="keyword">case</span> <span class="title">Bus</span> (<span class="params"><span class="keyword">var</span> r, <span class="keyword">var</span> c</span>) <span class="title">when</span> (<span class="params">r / c</span>) &lt; 0.9:</span></span><br><span class="line"><span class="function">          return "bus2"</span>;</span><br><span class="line">      <span class="keyword">case</span> Bus _:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"bus"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> Exception();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then it can even be simplified more:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">string</span> <span class="title">Categorizer</span>(<span class="params"><span class="keyword">object</span> test</span>)</span></span><br><span class="line"><span class="function"></span> =&gt; test <span class="keyword">switch</span></span><br><span class="line">    &#123;</span><br><span class="line">     Car &#123; Passengers: <span class="number">0</span>&#125; =&gt; <span class="string">"car0"</span>,</span><br><span class="line">     Car &#123; Passengers: <span class="number">1</span>&#125; =&gt; <span class="string">"car1"</span>,</span><br><span class="line">     Car &#123; Passengers: <span class="number">2</span>&#125; =&gt; <span class="string">"car2"</span>,</span><br><span class="line">     Car _ =&gt; <span class="string">"car"</span>,</span><br><span class="line"></span><br><span class="line">     Bus (<span class="keyword">var</span> r, <span class="keyword">var</span> c) <span class="keyword">when</span> (r / c) &lt; <span class="number">0.5</span> =&gt; <span class="string">"bus1"</span>,</span><br><span class="line">     Bus (<span class="keyword">var</span> r, <span class="keyword">var</span> c) <span class="keyword">when</span> (r / c) &lt; <span class="number">0.9</span> =&gt; <span class="string">"bus2"</span>,</span><br><span class="line">     Bus _ =&gt; <span class="string">"bus"</span>,</span><br><span class="line"></span><br><span class="line">     _ =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> Exception();</span><br><span class="line">     &#125;;</span><br></pre></td></tr></table></figure><p>Which can be simplified even more with nested switch:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">string</span> <span class="title">Categorizer</span>(<span class="params"><span class="keyword">object</span> test</span>)</span></span><br><span class="line"><span class="function"></span> =&gt; test <span class="keyword">switch</span></span><br><span class="line">    &#123;</span><br><span class="line">     Car c =&gt; c.Passengers <span class="keyword">switch</span></span><br><span class="line">     &#123;</span><br><span class="line">         <span class="number">0</span> =&gt; <span class="string">"car0"</span>,</span><br><span class="line">         <span class="number">1</span> =&gt; <span class="string">"car1"</span>,</span><br><span class="line">         <span class="number">2</span> =&gt; <span class="string">"car2"</span>,</span><br><span class="line">         _ =&gt; <span class="string">"car"</span></span><br><span class="line">     &#125;,</span><br><span class="line"></span><br><span class="line">     Bus (<span class="keyword">var</span> r, <span class="keyword">var</span> c) <span class="keyword">when</span> (r / c) &lt; <span class="number">0.5</span> =&gt; <span class="string">"bus1"</span>,</span><br><span class="line">     Bus (<span class="keyword">var</span> r, <span class="keyword">var</span> c) <span class="keyword">when</span> (r / c) &lt; <span class="number">0.9</span> =&gt; <span class="string">"bus2"</span>,</span><br><span class="line">     Bus _ =&gt; <span class="string">"bus"</span>,</span><br><span class="line"></span><br><span class="line">     _ =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> Exception();</span><br><span class="line">     &#125;;</span><br></pre></td></tr></table></figure></li><li><p>You can now await with <code>foreach</code>:</p> <figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> <span class="keyword">foreach</span> (<span class="keyword">var</span> v <span class="keyword">in</span> ARndomClass.aRandomAsync())&#123;</span><br><span class="line">    <span class="comment">// Do Something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>You can inherit Interface now:</p> <figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Interface IStuff</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">anAction</span>(<span class="params"><span class="keyword">var</span> someInput, <span class="keyword">var</span> someOtherInput</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">anotherAction</span>(<span class="params"><span class="keyword">var</span> moreInput</span>)</span> =&gt; anAction(moreInput, <span class="string">"action"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="other-notes"><a class="markdownIt-Anchor" href="#other-notes"></a> Other Notes</h2><ul><li>DTrace on Windows will be more useful than I thought, can use it more frequently as it can help debug on release</li><li>Azure Pipelines: it is actually pretty good after watching the session. I will start migrating my UWP apps back to Azure Pipeline.</li><li><a href="http://ML.NET" target="_blank" rel="noopener">ML.NET</a> 1.0 is out and it would be great to try out with C# application and .NET Core applications.</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;tl-dr&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#tl-dr&quot;&gt;&lt;/a&gt; TL; DR&lt;/h2&gt;
&lt;p&gt;This is a summary for some of the topics that I am interested 
      
    
    </summary>
    
    
    
      <category term="Microsoft Build" scheme="https://patrickwu.space/tags/Microsoft-Build/"/>
    
      <category term="C#" scheme="https://patrickwu.space/tags/C/"/>
    
      <category term="WSL" scheme="https://patrickwu.space/tags/WSL/"/>
    
      <category term="WSL2" scheme="https://patrickwu.space/tags/WSL2/"/>
    
  </entry>
  
  <entry>
    <title>Make Hyper-V great again -- hvc command</title>
    <link href="https://patrickwu.space/2019/02/16/hyper-v-hvc-command/"/>
    <id>https://patrickwu.space/2019/02/16/hyper-v-hvc-command/</id>
    <published>2019-02-16T13:21:05.000Z</published>
    <updated>2020-02-17T05:59:24.204Z</updated>
    
    <content type="html"><![CDATA[<h1 id="tldr"><a class="markdownIt-Anchor" href="#tldr"></a> TL;DR</h1><p>Hyper-V is an awesome native hypervisor for Windows, and It works surprisingy well with not only Windows but also Linux, freeBSD and Docker. But when using Hyper-V, it used to be not easy when you want to get information about your VMs and interact them with SSH. But now, with <code>hvc</code> command, these problems can be solved really easily.</p><p><img src="https://cdn.patrickwu.space/posts/dev/hvc/1.png" alt="My Virtual Machines" /></p><h2 id="before-we-start"><a class="markdownIt-Anchor" href="#before-we-start"></a> Before we start…</h2><p>Not all feature is available to the platform. This tutorial only tested with Windows Server 2016, Windows Server 2019, Ubuntu and Debian. Please try yourself whether your VM works.</p><p>Also, use an elevated console when executing the command. The easiest why you can simplify this process is to download <a href="https://scoop.sh" target="_blank" rel="noopener">scoop</a> and install <code>sudo</code> using <code>scoop install sudo</code>. Now you can simply type <code>sudo hvc</code> instead of opening an elevated console.</p><h2 id="vm-imformation"><a class="markdownIt-Anchor" href="#vm-imformation"></a> VM Imformation</h2><p><code>hvc</code> allows you to show basic information about your VMs. Using <code>hvc list</code> can show you a list of Virutal machines you have:</p><p><img src="https://cdn.patrickwu.space/posts/dev/hvc/2.png" alt="VM information" /></p><p>You can also get specific inforamtion about your VM such as VM ID, its IP address and its current status using <code>hvc id &lt;Name of VM&gt;</code>, <code>hvc ip &lt;Name of VM&gt;</code> and <code>hvc state &lt;Name of VM&gt;</code>:</p><p><img src="https://cdn.patrickwu.space/posts/dev/hvc/3.png" alt="VM specific information" /></p><p>As for the name, if your VM have a name that contains space, you shoud quote it:</p><p><img src="https://cdn.patrickwu.space/posts/dev/hvc/4.png" alt="VM information but with a complicated name" /></p><h2 id="vm-mangement"><a class="markdownIt-Anchor" href="#vm-mangement"></a> VM Mangement</h2><p>You can complete some simple management of your VM such as start or stop using <code>hvc &lt;command&gt; &lt;name of VM&gt;</code>:</p><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td>start</td><td>Starts a VM.</td></tr><tr><td>stop</td><td>Shuts down a VM.</td></tr><tr><td>kill</td><td>Powers off a VM.</td></tr><tr><td>restart</td><td>Reboots a VM.</td></tr><tr><td>reset</td><td>Issues a hard reset to a VM.</td></tr></tbody></table><p>But keep in mind that nothing will be shown if the action is successful.</p><p><img src="https://cdn.patrickwu.space/posts/dev/hvc/5.png" alt="Successful and unsuccessful command execution" /></p><h2 id="vm-connection"><a class="markdownIt-Anchor" href="#vm-connection"></a> VM Connection</h2><p>You can connect to your virtual machine using different ways via <code>hvc</code>, like socket or ssh.</p><p>You can connect to your VM’s serial port using <code>hvc serial &lt;VM&gt;</code>; You can also connect to your VM via a socket connection using <code>hvc nc [options] &lt;VM&gt; &lt;port&gt;</code>; You can also directly open the VM Graphic Console using <code>hvc console &lt;VM&gt;</code>.</p><p>Here I will mainly talk about its feature on SSH. <code>hvc</code> provides <code>ssh</code> and <code>scp</code>, which works just like normal <code>ssh</code> and <code>scp</code> but you can just input its VM name instead of its IP address. Here is a small demo:</p><p><img src="https://cdn.patrickwu.space/posts/dev/hvc/6.png" alt="hvc SSH demo" /></p><p>To use this command, the only thing you have to do is to setup SSH server on your VM. for Windows, you just have to install OpenSSH Server to start; for Linux, besides normal SSH server setup, don’t forget that install Hyper-V tools before using the command. For example, Debian 9 need <code>hyperv-daemons</code> package for <code>hvc ssh</code> to work. For other Linux, please check <a href="https://docs.microsoft.com/en-us/windows-server/virtualization/hyper-v/supported-linux-and-freebsd-virtual-machines-for-hyper-v-on-windows" target="_blank" rel="noopener">here</a> for the supported Linux distros.</p><h2 id="final-thoughts"><a class="markdownIt-Anchor" href="#final-thoughts"></a> Final thoughts</h2><p>These command really simplified my life and I no longer need to pin Hyper-V Manager in the taskbar. Just have a try, you will love it.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;tldr&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#tldr&quot;&gt;&lt;/a&gt; TL;DR&lt;/h1&gt;
&lt;p&gt;Hyper-V is an awesome native hypervisor for Windows, and It works
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="https://patrickwu.space/tags/Linux/"/>
    
      <category term="Hyper-V" scheme="https://patrickwu.space/tags/Hyper-V/"/>
    
      <category term="Windows" scheme="https://patrickwu.space/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>拆除的記憶</title>
    <link href="https://patrickwu.space/2019/01/18/memory-destruction/"/>
    <id>https://patrickwu.space/2019/01/18/memory-destruction/</id>
    <published>2019-01-18T09:28:06.000Z</published>
    <updated>2020-02-17T05:56:18.245Z</updated>
    
    <content type="html"><![CDATA[<p>這次回老家S城，忙完事情後，趁着還有些時間，在老家逛了一圈。穿過熟悉的小巷，卻發現曾經熟悉的人民醫院舊址，變成了一座與這座城完全格格不入的大商場——它的現代化設計和仔細拋光的大理石地板，在這座古城中央顯得極其奇怪和不適；圍着它繞了一圈，與人民醫院相關的東西，被拆除的一點也不剩。</p><p>我小時候因為體質差，時不時就生病。爸媽總是不得不把哭鬧着的我送到人民醫院，次數頻繁到甚至電梯阿姨都認識我了：到後來小學時，每次去人民醫院，她總是會笑着和我打招呼，説着：“阿彬，又來了？”我總是尷尬地滿臉通紅，輕輕地點頭。她接着一定會笑着扭過頭，然後熟練的按下3樓的按鈕——那是耳鼻喉科門診的樓層。醫院裏醫患關係部的K叔也總是很照顧我，他是我爸媽的朋友，每次我來看病時，總會給我帶些糖。他的辦公室在人民醫院裏的大寺廟裏，我總是覺得這座寺廟十分神奇——這麼大的，有5層樓這麼高的寺廟，是怎麼造起來的？可惜的是，這些小時候的疑惑和記憶，和和人民醫院一起，被埋葬在了這華麗的現代化商場的地下深處。</p><p>在人民醫院舊址的旁邊，便是S城人都知道的D大街。我赫然發現，曾經提着&quot;D街夜市&quot;的銅製標牌已經消失，而D大街的兩旁已經死死的焊上了鐵質護欄。趕緊問了下附近一直在這開店的老闆，才知道政府“為了市容”取消了這座城市有歷史的夜市。</p><p>我歎了口氣。</p><p>小時候，我總是會期待夜幕降臨，因為這意味着D街夜市要開始了。大約下午5點左右，你走到D大街，就可以看見小販們推着三輪車，在自己攤位的位置停下，開始支起攤子，掛起已經泛黃的鎢絲燈；整條D大街，在夜色完全黑下來之前，就已經被攤位燈光點亮了。每個攤位都會售賣不一樣的東西：小玩具、裝飾品、電器、服裝、書籍，就像一個填滿了寶藏的洞穴一樣，等待着你去探索。每次吃完飯，我總是喜歡跑到夜市，帶着爸媽或是外公外婆給的零錢，在夜市上買幾本自己喜歡的圖畫書。每天賣的書都不同；今天不買，明天的書可就不一樣了。</p><p>只是，我從來沒想到，在將來的一個明天，一本書都買不到了；這座夜市，也終將只剩下留給我的回憶。</p><p>回到外公住的宿舍樓，欣慰的發現這裏並沒有什麼大變化。這是一座建於70年代的宿舍，是屬於S城化肥廠的第一員工宿舍；化肥廠本身，已經在我讀小學的時候就完全關閉拆除了。對這座宿舍的外牆，雖然已經粉刷了很多次，但歲月然是給他留下了很多痕跡；於老員工們來説，這是最後珍貴的記憶。我外公總是和我説，這是S城的第一棟混凝土建築；當時的他，作為優秀員工，自豪的成為了這座宿舍的第一批成員。對於我來説，這是我從小長大的地方；這是充滿回憶的地方，是我一切開始的地方。</p><p>我走到了熟悉的門前，打開了門。</p><p>“外公，我回來了！”</p><p>外公坐在桌旁，抽着煙，沉默不語。</p><p>他翻了翻一旁的一疊紙，抽出了其中一張，擺在了桌上。</p><p>這張紙的標題是，“S城化肥廠員工宿舍清拆通知”。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;這次回老家S城，忙完事情後，趁着還有些時間，在老家逛了一圈。穿過熟悉的小巷，卻發現曾經熟悉的人民醫院舊址，變成了一座與這座城完全格格不入的大商場——它的現代化設計和仔細拋光的大理石地板，在這座古城中央顯得極其奇怪和不適；圍着它繞了一圈，與人民醫院相關的東西，被拆除的一點也不
      
    
    </summary>
    
    
    
      <category term="Essay" scheme="https://patrickwu.space/tags/Essay/"/>
    
  </entry>
  
  <entry>
    <title>向後2018，向前2019</title>
    <link href="https://patrickwu.space/2018/12/28/review-2018/"/>
    <id>https://patrickwu.space/2018/12/28/review-2018/</id>
    <published>2018-12-28T06:56:53.000Z</published>
    <updated>2020-02-17T05:56:12.549Z</updated>
    
    <content type="html"><![CDATA[<h2 id="幹了些啥"><a class="markdownIt-Anchor" href="#幹了些啥"></a> 幹了些啥？</h2><p>2018， 這是一個註定不平凡的一年。</p><p>1月，美國交換。紐約，羅拉，聖路易斯，芝加哥，西雅圖。交了新朋友，還見了闊別6年的舊友。第一次在海外過春節，第一次自己計劃旅程，許許多多的第一次，貢獻給了美國之旅。</p><p>2月，我正式放棄開發 UWP 應用，專注開發 wslu. 感謝自己做出了正確的決定，如果不放手，我的項目不會超過300星，我也不會加入 Whitewater Foundry, 我會仍然原地踏步。</p><p>6月，參加在杭州的實習。</p><p>7月，參加TechCrunch大會。</p><p>8月，9月，10月，難熬的託福和GRE。</p><p>9月，加入Whitewater Foundry。</p><p>12月，學期結束。盡了自己的最大努力，雖然成績仍不如意，但是我這次，能告訴我自己：我真的盡力了。</p><h2 id="看了些啥"><a class="markdownIt-Anchor" href="#看了些啥"></a> 看了些啥？</h2><p><strong>士兵的重負 | The Things They Carried</strong> <em>Tim O’Brien</em></p><p>一本關於越南戰爭的書。這種半自傳的設定，很喜歡。</p><p><strong>廉價車之王 | The Fivver King</strong> <em>Upton Sinclair</em></p><p>一個關於美國20世紀初，福特公司的故事。</p><p><strong>夢幻花 | むげんばな</strong> <em>東野圭吾</em></p><p>因為他，我愛上了偵探小説。但這本書，卻頗有虎頭蛇尾之感覺。</p><h2 id="寫畫拍了些啥"><a class="markdownIt-Anchor" href="#寫畫拍了些啥"></a> 寫/畫/拍了些啥？</h2><p>似乎今年，沒寫些啥。想要寫《和平路書報攤》和《WSL指北》，但都只寫了個開頭。</p><p>哦對了，寫了<a href="https://patrickwu.space/2018/06/11/travel-adventure/">美國交流的感想</a>。</p><p>畫到是不少，就是垃圾了點。比如新的分類圖，還有還有，<a href="http://patrickwu.space/categories/Jokes-On-Me">Jokes On Me</a>。</p><p>代碼也是寫了不少。主要還是wslu和WLinux。還有畢業設計。還有MSSS的論壇改版。差不多就這些了。</p><p>拍了不少照片，不過大部分還是用手機。拿到 Canon 5D Mark IV 後立即拍了些。還不錯。</p><h2 id="2019幹啥"><a class="markdownIt-Anchor" href="#2019幹啥"></a> 2019，幹啥？</h2><ul><li>寫完《和平路書報攤》和《WSL指北》；</li><li>認真的去找個女朋友；</li><li>繼續保持鍛鍊，瘦下來。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;幹了些啥&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#幹了些啥&quot;&gt;&lt;/a&gt; 幹了些啥？&lt;/h2&gt;
&lt;p&gt;2018， 這是一個註定不平凡的一年。&lt;/p&gt;
&lt;p&gt;1月，美國交換。紐約，羅拉，聖路易斯，芝加哥，西雅圖。交了新朋友，還見了闊別
      
    
    </summary>
    
    
    
      <category term="Annual Review" scheme="https://patrickwu.space/tags/Annual-Review/"/>
    
  </entry>
  
  <entry>
    <title>fix Octave LibQt5Core issue in WSL Arch Linux</title>
    <link href="https://patrickwu.space/2018/11/05/wsl-libqt5core-issue-fix-arch/"/>
    <id>https://patrickwu.space/2018/11/05/wsl-libqt5core-issue-fix-arch/</id>
    <published>2018-11-05T02:43:24.000Z</published>
    <updated>2020-02-17T06:08:48.977Z</updated>
    
    <content type="html"><![CDATA[<p>Recently I started to do things in the Arch Linux since some people request to bring my <a href="https://github.com/wslutilities/wslu" target="_blank" rel="noopener">wslu</a> to ArchWSL(<a href="https://github.com/yuk7/ArchWSL" target="_blank" rel="noopener">https://github.com/yuk7/ArchWSL</a>). I found there is an issue when using Octave when it brings this error:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">error while loading shared libraries: libQt5Core.so.5: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure><p>This is due to the fact that WSL kernel do not support <code>renameat2()</code> system call.</p><p>To fix this specific issue, run:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo strip --remove-section=.note.ABI-tag /usr/lib64/libQt5Core.so.5</span><br></pre></td></tr></table></figure><p>To fix all issue related to this, run:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find &#x2F;lib &#x2F;usr&#x2F;lib &#x2F;usr&#x2F;libexec -name &#39;*.so&#39; | xargs strip --remove-section&#x3D;.note.ABI-tag</span><br></pre></td></tr></table></figure><p>But be careful, this action will be dangerous.</p><p>After executing, this problem will be solved.</p><blockquote><p>Credit:<br /><a href="https://superuser.com/questions/1347723/arch-on-wsl-libqt5core-so-5-not-found-despite-being-installed#1348051" target="_blank" rel="noopener">https://superuser.com/questions/1347723/arch-on-wsl-libqt5core-so-5-not-found-despite-being-installed#1348051</a><br /><a href="https://github.com/Microsoft/WSL/issues/3023" target="_blank" rel="noopener">https://github.com/Microsoft/WSL/issues/3023</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Recently I started to do things in the Arch Linux since some people request to bring my &lt;a href=&quot;https://github.com/wslutilities/wslu&quot; ta
      
    
    </summary>
    
    
    
      <category term="WSL" scheme="https://patrickwu.space/tags/WSL/"/>
    
      <category term="Arch Linux" scheme="https://patrickwu.space/tags/Arch-Linux/"/>
    
  </entry>
  
  <entry>
    <title>Start apps without systemd in WSL</title>
    <link href="https://patrickwu.space/2018/08/14/wsl-mysql-without-systemd/"/>
    <id>https://patrickwu.space/2018/08/14/wsl-mysql-without-systemd/</id>
    <published>2018-08-14T05:36:34.000Z</published>
    <updated>2020-02-17T06:08:57.404Z</updated>
    
    <content type="html"><![CDATA[<h1 id="tldr"><a class="markdownIt-Anchor" href="#tldr"></a> TL;DR</h1><p>This is an article explaining how to start some service without <code>systemd</code> on WSL and some thoughts.</p><a id="more"></a><h2 id="the-problem"><a class="markdownIt-Anchor" href="#the-problem"></a> The problem</h2><p>I recently have a nodejs server with Redis and MySQL to set up and thinking that using ubuntu will be a lot easier to set up than doing it in Windows, I tried to set up on WSL. When I tried to set up using MySQL, I realized that MySQL now uses <code>systemd</code> to start server instead of good ol’ <code>service</code>, and WSL has not yet supported systemd and <a href="https://github.com/Microsoft/WSL/issues/994" target="_blank" rel="noopener">the first issue report about systemd</a> is still open and not solved. This means we cannot use anything related to <code>systemd</code> or <code>systemctl</code>. Same thing happened when I try to setup the openSSH Server on openSUSE, as openSUSE do not provide <code>service</code> version of openSUSE Server startup script.</p><h2 id="the-solution"><a class="markdownIt-Anchor" href="#the-solution"></a> The solution</h2><p>the solution is simple, just use its still existed <code>init.d</code> service on system, that is:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#mysql</span></span><br><span class="line">sudo /etc/init.d/mysql start</span><br><span class="line"></span><br><span class="line"><span class="comment">#opensuse openSSH server</span></span><br><span class="line">sudo /usr/sbin/sshd</span><br></pre></td></tr></table></figure><p>but this reminds me that as the adoption of <code>systemd</code> in Debian and Ubuntu in the late 2013, it becomes increasingly controversy, with bug exploited, and system abandon it, <code>systemd</code> is just not friendly. Software should have at least two methods (<code>init.d</code>/<code>systemd</code>) for service control so that all *inx can be properly used.</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;tldr&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#tldr&quot;&gt;&lt;/a&gt; TL;DR&lt;/h1&gt;
&lt;p&gt;This is an article explaining how to start some service without &lt;code&gt;systemd&lt;/code&gt; on WSL and some thoughts.&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="WSL" scheme="https://patrickwu.space/tags/WSL/"/>
    
      <category term="SQL" scheme="https://patrickwu.space/tags/SQL/"/>
    
  </entry>
  
</feed>
